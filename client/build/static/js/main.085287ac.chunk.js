(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(1),r=n.n(s),c=n(20),i=n.n(c),o=(n(128),n(10)),l=n(11),u=n(13),d=n(12),j=(n(129),n(4)),p=n(22);function m(e){var t=e.isAuthenticated,n=e.Component,s=e.name,r=e.surname,c=e.user,i=e.logout;return Object(a.jsx)(p.b,{render:function(e){return t?Object(a.jsx)(n,Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:t,name:s,surname:r,user:c,logout:i})):Object(a.jsx)(p.a,{to:"/welcome"})}})}var h=n(24);n(134),n(135);function b(e){var t=e.type,n=e.placeholder,s=e.name,r=e.value,c=e.onChange;return Object(a.jsx)("div",{className:"input",children:Object(a.jsx)("input",{type:t,placeholder:n,name:s,value:r,onChange:c})})}var O=n(14),f=n(19),g=n(8),v=n.n(g),x=n(16),A="AUTH_REGISTER_START",y="AUTH_REGISTER_SUCCESS",N="AUTH_REGISTER_FAIL",C="AUTH_LOGIN_START",S="AUTH_LOGIN_SUCCESS",E="AUTH_LOGIN_FAIL",w="AUTH_RESET_LOGIN",k="AUTH_RESET_REGISTER",_="AUTH_CHECK_TOKEN_START",T="AUTH_CHECK_TOKEN_SUCCESS",D="AUTH_CHECK_TOKEN_FAIL",M="AUTH_LOGOUT",I="AUTH_ROLES",L="AUTH_CHANGE_NAME_SURNAME_START",P="AUTH_CHANGE_NAME_SURNAME_SUCCESS",U="AUTH_CHANGE_NAME_SURNAME_FAIL",R="AUTH_CHANGE_EMAIL_START",z="AUTH_CHANGE_EMAIL_SUCCESS",H="AUTH_CHANGE_EMAIL_FAIL",G="AUTH_CHANGE_PASSWORD_START",F="AUTH_CHANGE_PASSWORD_SUCCESS",V="AUTH_CHANGE_PASSWORD_FAIL",B="AUTH_GET_USERS",W="AUTH_GET_ME_LOADING",q="AUTH_GET_ME",$="AUTH_GET_ADMINS",K="ADV_CREATE_AD_START",J="ADV_CREATE_AD_SUCCESS",Z="ADV_CREATE_AD_FAIL",Y="ADV_RESET_MODAL_FORM",X="ADV_GET_ADS",Q="ADV_FILTER_ADS",ee="ADV_GET_AD_LOADING",te="ADV_GET_AD",ne="ADV_CREATE_REVIEW_LOADING",ae="ADV_CREATE_REVIEW",se="ADV_GET_COMMENTS_LOADING",re="ADV_GET_COMMENTS",ce="ADV_GET_MYAD_LOADING",ie="ADV_GET_MYAD",oe="ADV_GET_ADS_ADMIN",le="ADV_UPLOAD_NEW_IMAGE_LOADING",ue="ADV_UPLOAD_NEW_IMAGE_SUCCESS",de="ADV_DELETE_COMMENT_LOADING",je="ADV_DELETE_COMMENT",pe=n(30),me=n(104),he=n.n(me).a.create({baseURL:"https://studenti.sum.ba/StudentskiSmjestajMostar"}),be=function(e){return{type:N,msg:e}},Oe=function(e,t,n,a,s){return{type:S,name:e,surname:t,user:n,isAdmin:a,isSuperAdmin:s}},fe=function(e){return{type:E,msg:e}},ge=function(){return function(e){e({type:w})}},ve=function(){return function(e){e({type:k})}},xe=function(){return function(){var e=Object(x.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:_}),console.log("Checking token ..."),localStorage.getItem("auth-token-ssm")?(n=Object(pe.a)(localStorage.getItem("auth-token-ssm")),console.log(n.user),console.log(1e3*n.exp),console.log(Date.now()),console.log(JSON.parse(localStorage.getItem("auth-token-ssm"))),1e3*n.exp<Date.now()&&localStorage.clear(),t((a=n.user.Name,s=n.user.Surname,r=n.user,{type:T,name:a,surname:s,user:r}))):t({type:D,errorMsg:void 0});case 3:case"end":return e.stop()}var a,s,r}),e)})));return function(t){return e.apply(this,arguments)}}()},Ae=function(){return function(e){e({type:M})}},ye=function(e,t,n){return{type:P,newName:e,newSurname:t,user:n}},Ne=function(e){return{type:z,newEmail:e}},Ce=function(){return{type:H}},Se=function(e){return{type:F,newPassword:e}},Ee=function(e,t){return{type:q,isAdmin:e,isSuperAdmin:t}},we=function(){return function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:W}),n=Object(pe.a)(localStorage.getItem("auth-token-ssm")),a=n.user.id_role,he({method:"POST",url:"api/user/getMe",data:{role_id:a}}).then((function(e){if(console.log("getMe:",e),localStorage.getItem("auth-token-ssm")){"admin"===e.data[0].role_name?t(Ee(!0,!1)):"user"===e.data[0].role_name?t(Ee(!1,!1)):"superadmin"===e.data[0].role_name&&t(Ee(!1,!0))}})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ke=(n(155),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:this.props.admin?"admin-header":this.props.superadmin?"superadmin-header":"header",children:[this.props.openNavButton,Object(a.jsx)("div",{className:"header-title",children:Object(a.jsx)("h1",{children:this.props.title})}),this.props.componentToPassDown]})}}]),n}(r.a.Component)),_e=Object(O.b)((function(e){return{admin:e.auth.admin,superadmin:e.auth.superadmin}}),null)(ke);n(156);function Te(){return Object(a.jsxs)("div",{className:"footer",children:["\xa9Copyright 2021",Object(a.jsx)("a",{href:"https://rwawebsite.netlify.app/",children:"About us"})]})}var De=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).onInputChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.onAuthenticateHandler=function(t){t.preventDefault();var n=e.state,a=n.email,s=n.password,r=e.props.roles;e.props.authenticate(a,s,e.onAuthSuccessUser,e.onAuthSuccessAdmin,e.onAuthSuccessSuperAdmin,r)},e.onAuthSuccessUser=function(){e.props.history.push("/private")},e.onAuthSuccessAdmin=function(){e.props.history.push("/private/admin")},e.onAuthSuccessSuperAdmin=function(){e.props.history.push("/private/superadmin")},e.state={email:"",password:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.loadSignInPage(),this.props.get_role_id();var e=localStorage.getItem("auth-token-ssm");e&&"undefined"!==e&&(this.props.admin?this.props.history.push("/private/admin"):this.props.superadmin?this.props.history.push("/private/superadmin"):this.props.history.push("/private"))}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,s=this.props,r=s.loginErrorMsg,c=s.authError;return Object(a.jsxs)("div",{className:"login-container",children:[Object(a.jsx)(_e,{title:""}),Object(a.jsx)("div",{className:"login",children:Object(a.jsxs)("form",{onSubmit:this.onAuthenticateHandler,children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)(b,{type:"text",placeholder:"email:",name:"email",value:t,onChange:this.onInputChange}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Password"})}),Object(a.jsx)(b,{type:"password",placeholder:"password:",name:"password",value:n,onChange:this.onInputChange}),c?Object(a.jsx)("div",{className:"loginErrorMsg",children:Object(a.jsx)("span",{children:r})}):null,Object(a.jsx)("button",{type:"submit",className:"loginbtn",children:"Login"}),Object(a.jsx)(f.b,{to:"/register",children:Object(a.jsx)("p",{className:"toRegister",children:"Register here!"})})]})}),Object(a.jsx)(Te,{})]})}}]),n}(r.a.Component),Me=Object(O.b)((function(e){return{loginErrorMsg:e.auth.loginErrorMsg,authError:e.auth.authError,roles:e.auth.roles,admin:e.auth.admin,superadmin:e.auth.superadmin}}),(function(e){return{authenticate:function(t,n,a,s,r,c){return e(function(e,t,n,a,s,r){return function(){var c=Object(x.a)(v.a.mark((function c(i){return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:i({type:C}),he({method:"POST",url:"api/user/login",data:{email:e,password:t}}).then(function(){var e=Object(x.a)(v.a.mark((function e(t){var c,o,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("authenticate:",t),localStorage.setItem("auth-token-ssm",JSON.stringify(t.data.token)),console.log("pass",t.data.password),console.log("exist",t.data.email_exist),localStorage.setItem("isAuth",JSON.stringify(t.data.email_exist)),c=Object(pe.a)(localStorage.getItem("auth-token-ssm")),console.log(r[0]),o=!1,l=!1,!0===t.data.email_exist&&!0===t.data.password?t.data.role_id===r[0].superadmin_role_id?(l=!0,o=!1,i(Oe(c.user.Name,c.user.Surname,c.user,o,l)),s()):t.data.role_id===r[0].admin_role_id?(o=!0,l=!1,i(Oe(c.user.Name,c.user.Surname,c.user,o,l)),a()):t.data.role_id===r[0].user_role_id&&(o=!1,l=!1,i(Oe(c.user.Name,c.user.Surname,c.user,o,l)),n()):!0===t.data.email_exist&&!1===t.data.password?i(fe("Password is not valid")):!1===t.data.email_exist&&"undefined"===typeof t.data.password&&i(fe("Email is incorrect. Please register if you don't have an account!"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.response),i(fe())}));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(t,n,a,s,r,c))},loadSignInPage:function(){return e(ge())},get_role_id:function(){return e(function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he({method:"GET",url:"api/user/get_role_id"}).then(function(){var e=Object(x.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("role_data",n),t((a=n.data,{type:I,roles:a}));case 2:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.response)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(De),Ie=(n(157),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).onInputChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.onRegisterSend=function(t){t.preventDefault();var n=e.state,a=n.name,s=n.surname,r=n.email,c=n.password;e.props.registerUser(a,s,r,c,e.onSuccessRedirect)},e.onSuccessRedirect=function(){e.props.history.push("/login")},e.state={name:"",surname:"",email:"",password:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.loadSignUpPage()}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.surname,s=e.email,r=e.password,c=this.props,i=c.isEmailError,o=c.registerErrorMsg;return Object(a.jsxs)("div",{className:"register-container",children:[Object(a.jsx)(_e,{title:""}),Object(a.jsx)("div",{className:"register",children:Object(a.jsxs)("form",{onSubmit:this.onRegisterSend,children:[Object(a.jsx)("h1",{children:"Register"}),Object(a.jsx)("p",{children:"Please fill in this form to create an account."}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Name"})}),Object(a.jsx)(b,{type:"text",placeholder:"name:",name:"name",value:t,onChange:this.onInputChange}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Surname"})}),Object(a.jsx)(b,{type:"text",placeholder:"surname:",name:"surname",value:n,onChange:this.onInputChange}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)(b,{type:"text",placeholder:"email:",name:"email",value:s,onChange:this.onInputChange}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Password"})}),Object(a.jsx)(b,{type:"password",placeholder:"password:",name:"password",value:r,onChange:this.onInputChange}),i?Object(a.jsxs)("div",{className:"errorMsg",children:[Object(a.jsx)("span",{children:o}),Object(a.jsx)("br",{})]}):null,Object(a.jsx)("button",{type:"submit",className:"registerbtn",children:"Register"})]})}),Object(a.jsx)(Te,{})]})}}]),n}(r.a.Component)),Le=Object(O.b)((function(e){return{isEmailError:e.auth.isEmailError,registerErrorMsg:e.auth.registerErrorMsg}}),(function(e){return{registerUser:function(t,n,a,s,r){return e(function(e,t,n,a,s){return function(){var r=Object(x.a)(v.a.mark((function r(c){return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c({type:A}),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())?he({method:"POST",url:"api/user/register",data:{name:e,surname:t,email:n,password:a}}).then((function(r){var i,o,l,u,d;console.log("registerUser:",r),!0===r.data.email_available?(c((i=e,o=t,l=n,u=a,d=r.data.email_available,{type:y,userName:i,userSurname:o,userEmail:l,userPassword:u,email_available:d})),s()):c(be("Email not valid or already exists!"))})).catch((function(e){console.log(e),c(be("Email not valid or already exists!"))})):c(be("Email is not valid"));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,a,s,r))},loadSignUpPage:function(){return e(ve())}}}))(Ie),Pe=(n(158),n.p+"static/media/details-4.f2053654.jpeg");function Ue(){return Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("div",{className:"img",children:Object(a.jsx)("img",{src:Pe,alt:""})}),Object(a.jsxs)("div",{className:"info",children:[Object(a.jsx)("div",{className:"welcome",children:Object(a.jsx)("h1",{children:"Welcome!"})}),Object(a.jsxs)("div",{className:"infoButtons",children:[Object(a.jsx)(f.b,{to:"/login",children:Object(a.jsx)("button",{children:"Sign in"})}),Object(a.jsx)(f.b,{to:"/register",children:Object(a.jsx)("button",{children:"Sign up"})})]})]})]})}function Re(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(_e,{title:"Studentski Smje\u0161taj Mostar",componentToPassDown:""}),Object(a.jsx)(Ue,{}),Object(a.jsx)(Te,{})]})}var ze=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{exact:!0,path:"/welcome",component:Re}),Object(a.jsx)(p.b,{exact:!0,path:"/register",component:Le}),Object(a.jsx)(p.b,{exact:!0,path:"/login",component:Me})]})})}}]),n}(s.Component),He=(n(75),n(76),n(57)),Ge=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).stars=function(){var t=e.props.ad.average,n=Math.round(t);return Array.from(Array(n).keys()).map((function(e,t){return Object(a.jsx)(He.a,{},t)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.ad,t=e.title,n=e.price,s=e.images,r=this.props,c=r.admin,i=r.superadmin,o=s.split(",")[0],l=this.stars();return Object(a.jsxs)("div",{className:"ad-cart",children:[Object(a.jsx)("div",{className:"cart-title",children:Object(a.jsx)("h4",{children:t})}),Object(a.jsxs)("div",{className:"cart-img",children:[Object(a.jsx)(f.c,{to:{pathname:c?"/private/admin/details/".concat(t):i?"/private/superadmin/details/".concat(t):"/private/details/".concat(t)},children:Object(a.jsx)("img",{src:"http://localhost:5000/static/".concat(o),alt:""})}),Object(a.jsxs)("div",{className:"cart-price",children:["$",n]}),Object(a.jsx)("div",{className:"review",children:l})]})]})}}]),n}(s.Component),Fe=Object(O.b)((function(e){return{admin:e.auth.admin,superadmin:e.auth.superadmin}}),null)(Ge),Ve=function(e){var t=Object(O.c)((function(e){return e.adv.sortedAds})).map((function(e,t){return Object(a.jsx)(Fe,{ad:e},t)}));return Object(a.jsx)("div",{className:"ads-list",children:t})},Be=n(53),We=n(80),qe=function(e,t){return{type:J,title_available:t,formData:e}},$e=function(e){return{type:Z,msg:e}},Ke=function(){return function(e){e({type:Y})}},Je=function(){return function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he({method:"GET",url:"api/adv/getAdv"}).then((function(e){var n;console.log("allAds:",e),t((n=e.data,{type:X,ads:n}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ze=function(){return function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he({method:"GET",url:"api/adv/getAdvAdmin"}).then((function(e){var n;console.log("allAdsAdmin:",e),t((n=e.data,{type:oe,adminAds:n}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ye=function(e){return{type:Q,sortedAds:e}},Xe=function(e,t){return{type:ae,comment:e,rating:t}},Qe=function(e){return function(){var t=Object(x.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:se}),he({method:"POST",url:"api/adv/getComments",data:{title:e}}).then((function(e){var t;console.log("comments:",e),n((t=e.data,{type:re,comments:t}))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},et=function(){return function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ce}),n=Object(pe.a)(localStorage.getItem("auth-token-ssm")),a=n.user.id,he({method:"POST",url:"api/adv/getMyAd",data:{user_id:a}}).then((function(e){var n;console.log("myAd:",e),t((n=e.data,{type:ie,myAds:n}))})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},tt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target,a=n.value,s=n.name,r=n.type,c=n.checked,i="checkbox"===r?c:a;e.setState(Object(h.a)({},s,i),e.filter)},e.filter=function(){var t=e.state,n=t.price,a=t.size,s=t.pets,r=t.balcony;e.props.filterAds(e.props.ads,n,a,r,s)},e.state={sortedAds:[],ads:[],price:1e3,maxPrice:1e3,minPrice:0,size:400,maxSize:400,minSize:0,pets:!1,balcony:!1},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.price,n=e.maxPrice,s=e.minPrice,r=e.size,c=e.maxSize,i=e.minSize,o=e.pets,l=e.balcony;return Object(a.jsxs)("div",{className:"filters",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("label",{htmlFor:"price",children:["Price $",t]}),Object(a.jsx)("input",{type:"range",name:"price",min:s,max:n,id:"price",value:t,step:"50",onChange:this.handleChange,className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("label",{htmlFor:"size",children:["Size m\xb2",r]}),Object(a.jsx)("input",{type:"range",name:"size",min:i,max:c,id:"size",value:r,step:"50",onChange:this.handleChange,className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group-check",children:[Object(a.jsxs)("div",{className:"single-extra",children:[Object(a.jsx)("input",{type:"checkbox",name:"balcony",id:"balcony",checked:l,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"breakfast",children:"balcony"})]}),Object(a.jsxs)("div",{className:"single-extra",children:[Object(a.jsx)("input",{type:"checkbox",name:"pets",id:"pets",checked:o,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"pets",children:"pets"})]})]})]})}}]),n}(s.Component),nt=Object(O.b)((function(e){return{ads:e.adv.ads}}),(function(e){return{filterAds:function(t,n,a,s,r){return e(function(e,t,n,a,s){return function(){var r=Object(x.a)(v.a.mark((function r(c){var i;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=(i=(i=Object(Be.a)(e)).filter((function(e){return e.price<=t}))).filter((function(e){return e.size<=n})),a&&(i=i.filter((function(e){return 1===e.balcony}))),s&&(i=i.filter((function(e){return 1===e.pets}))),c(Ye(i));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,a,s,r))}}}))(tt);n(159);function at(e){var t=e.title;return Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("h2",{children:t})})}var st=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllAds()}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(at,{title:"Advertisements"}),Object(a.jsx)(nt,{}),Object(a.jsx)(Ve,{})]})}}]),n}(s.Component),rt=Object(O.b)((function(e){return{ads:e.adv.ads,user:e.auth.user}}),(function(e){return{getAllAds:function(){return e(Je())}}}))(st),ct=(n(160),n(31)),it=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getMyAd()}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.myAds,s=[];n.forEach((function(e){1===e.approved&&s.push(e)}));var r=s.length;return Object(a.jsxs)("div",{children:[Object(a.jsx)(at,{title:"Profile"}),Object(a.jsx)("div",{className:"user-profile",children:Object(a.jsx)("div",{className:"profile-cv",children:Object(a.jsxs)("div",{className:"profile-info",children:[Object(a.jsx)("div",{className:"profile-name",children:t.Name}),Object(a.jsx)("div",{className:"profile-surname",children:t.Surname}),Object(a.jsx)("div",{className:"profile-mail",children:t.Email}),Object(a.jsxs)("div",{className:"profile-myAds",children:["Advertisements number: ",r]}),Object(a.jsx)("div",{className:"profile-button",children:"Contact me"}),Object(a.jsx)("div",{className:"profile-photo",children:Object(a.jsx)(ct.a,{})})]})})})]})}}]),n}(s.Component),ot=Object(O.b)((function(e){return{user:e.auth.user,myAds:e.adv.myAds}}),(function(e){return{getMyAd:function(){return e(et())},authCheckToken:function(){return e(xe())}}}))(it),lt=(n(161),n(98),n(217)),ut=n(218),dt=n(219),jt=n(213),pt=n(7),mt=n(214),ht=n(173),bt=n(216),Ot=n(210),ft=n(211),gt=n(209),vt=n.p+"static/media/loading-arrow.dd29210f.gif",xt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleToggle=function(t){var n=!e.state.isOpen;if(null!==t){var a=Object(Be.a)(e.state.image)[t];e.setState({clickedImage:a})}e.setState({isOpen:n})},e.onDeleteImage=function(t){var n=e.state.image,a=Object(Be.a)(n).filter((function(e){return e!==t}));e.setState({image:a,isDeleted:!0,isOpen:!1}),e.props.deleteImage(t,a,e.props.myAd.advertisement_id)},e.handleChange=function(t){var n=t.target,a=n.value,s=n.name;e.setState(Object(h.a)({},s,a))},e.handleChangeCheckBox=function(t){var n=t.target,a=n.checked,s=n.name;e.setState(Object(h.a)({},s,a))},e.handleImageChange=function(t){e.setState({image:t.target.files}),console.log(t.target.files)},e.handleNewImageUpload=function(t){var n=e.state,a=n.image,s=n.chooseFiles,r=t.target.files[0],c=(new Date).getTime().toString(),i=[].concat(Object(Be.a)(s),[r]);e.setState({newImage:r,chooseFiles:i,image:[].concat(Object(Be.a)(a),[c+r.name]),isClicked:!0,clickedImage:r}),e.props.uploadNewImage(r,a,c)},e.handleClick=function(e){console.log(e)},e.formValidation=function(){var t=e.state,n=t.title,a=t.price,s=t.size,r="",c="",i="",o=!1,l=!1,u=!1,d=!1;return/^[a-zA-Z ]+$/.test(n)?(r="",l=!0):(r="Title only contains letters. ",c="",i="",l=!1),/^\d+$/.test(a)?a>0&&a<1e3?(c="",u=!0):(c="Price must be betweeen 0 and 1000. ",u=!1):(c="Price must be number. ",u=!1),/^\d+$/.test(s)?s>0&&s<400?(i="",d=!0):(i="Size must be betweeen 0 and 400. ",d=!1):(i="Size must be number. ",d=!1),o=!!(l&&u&&d),e.setState({errorMsgTitle:r,errorMsgPrice:c,errorMsgSize:i}),o},e.onAdSend=function(t){t.preventDefault();var n=e.props,a=n.admin,s=n.superadmin;e.formValidation()&&e.props.createAd(e.state,e.onCloseModal,e.getAds,a,s)},e.onAdUpdate=function(t){t.preventDefault(),e.formValidation()&&e.props.updateAdv(e.state,e.onCloseModal,e.props.myAd.advertisement_id)},e.getAds=function(){e.props.getAllAds()},e.onCloseModal=function(){e.props.onClose(),e.props.loadModal(),e.props.getMyAd()},e.ChooseFileRender=function(){var t=e.state.image.length;return Array.from(Array(5-t).keys()).map((function(t,n){return Object(a.jsxs)("label",{className:"choose-file",children:[Object(a.jsx)("input",{type:"file",placeholder:"",name:"newImage",onChange:e.handleNewImageUpload,className:"input-file"}),Object(a.jsx)("div",{className:"add-new-image",children:Object(a.jsx)(He.b,{})})]},n)}))},e.state={title:"",price:"",address:"",peopleAllowed:"",size:"",pets:!1,balcony:!1,desc:"",image:[],isOpen:!1,clickedImage:"",isDeleted:!1,newImage:"",showNewImage:"",isClicked:!1,chooseFiles:[],errorMsgTitle:"",errorMsgPrice:"",errorMsgSize:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){if(this.props.isEdit){var e=this.props.myAd.images.split(",");this.setState({title:this.props.myAd.title||"",price:this.props.myAd.price||"",address:this.props.myAd.address||"",peopleAllowed:this.props.myAd.people_allowed||"",size:this.props.myAd.size||"",pets:1===this.props.myAd.pets,balcony:1===this.props.myAd.balcony,desc:this.props.myAd.description||"",image:e||[]})}}},{key:"render",value:function(){var e,t,n=this,s=this.state,r=s.title,c=s.price,i=s.address,o=s.peopleAllowed,l=s.size,u=s.pets,d=s.balcony,j=s.desc,p=s.image,m=this.props,h=m.isTitleAvailable,b=m.createAdErrorMsg,O=m.isEdit;return e=this.ChooseFileRender(),O&&(t=p.map((function(e,t){return Object(a.jsx)("div",{children:e?Object(a.jsx)("div",{className:"form-image",children:Object(a.jsx)("img",{src:n.props.uploadLoading?vt:"http://localhost:5000/static/".concat(e),alt:"aa",onClick:function(){return n.handleToggle(t)}})}):""},t)}))),Object(a.jsx)("div",{className:"dialog-form",children:Object(a.jsxs)("form",{className:this.props.classes.FormControl,onSubmit:O?this.onAdUpdate:this.onAdSend,children:[Object(a.jsx)(lt.a,{label:"Title",value:r,name:"title",onChange:this.handleChange,margin:"normal",className:this.props.classes.FormControlElement,id:"title",required:!0}),Object(a.jsx)("br",{}),Object(a.jsx)(lt.a,{label:"Price",value:c,name:"price",onChange:this.handleChange,margin:"normal",className:this.props.classes.FormControlElement,required:!0}),Object(a.jsx)("br",{}),Object(a.jsx)(lt.a,{label:"Adress",value:i,name:"address",onChange:this.handleChange,margin:"normal",className:this.props.classes.FormControlElement,required:!0}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:this.props.classes.FormControlElementPeopleAllowed,children:[Object(a.jsx)(ut.a,{id:"input",children:"People Allowed"}),Object(a.jsx)(jt.a,{value:o,name:"peopleAllowed",onChange:this.handleChange,required:!0,children:[1,2,3,4,5,6].map((function(e,t){return Object(a.jsx)(dt.a,{name:"num",value:e,children:e},t)}))})]}),Object(a.jsx)("br",{}),Object(a.jsx)(lt.a,{label:"Size",value:l,name:"size",onChange:this.handleChange,margin:"normal",className:this.props.classes.FormControlElement,required:!0}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:this.props.classes.CheckBox,children:[Object(a.jsx)(ut.a,{id:"input",children:"Pets"}),Object(a.jsx)(mt.a,{checked:u,name:"pets",onChange:this.handleChangeCheckBox,color:"primary",inputProps:{"aria-label":"primary checkbox"}}),Object(a.jsx)("br",{}),Object(a.jsx)(ut.a,{id:"input",children:"Balcony"}),Object(a.jsx)(mt.a,{checked:d,name:"balcony",onChange:this.handleChangeCheckBox,color:"primary",inputProps:{"aria-label":"primary checkbox"}}),Object(a.jsx)("br",{})]}),Object(a.jsxs)("div",{className:this.props.classes.TextArea,children:[Object(a.jsx)(ut.a,{id:"desc",children:"Description"}),Object(a.jsx)(ht.a,{name:"desc",value:j,onChange:this.handleChange,"aria-label":"minimum height",rowsMin:5,placeholder:"",required:!0})]}),O?Object(a.jsxs)("div",{className:"form-images",children:[t,e,Object(a.jsxs)(bt.a,{open:this.state.isOpen,onClose:function(){return n.handleToggle(null)},children:[Object(a.jsx)(gt.a,{id:"dialogTitle"}),Object(a.jsxs)(Ot.a,{children:[Object(a.jsx)(ft.a,{id:"dialogTitle"}),Object(a.jsxs)("div",{className:"modal-image",children:[Object(a.jsx)("img",{src:"http://localhost:5000/static/".concat(this.state.clickedImage),alt:"",className:"clicked-image",name:"modal-image"}),1===p.length?"":Object(a.jsx)("div",{className:"button-x",onClick:function(){return n.onDeleteImage(n.state.clickedImage)},children:Object(a.jsx)(ct.b,{})})]})]})]})]}):null,O?null:Object(a.jsx)("input",{type:"file",name:"myImage",onChange:this.handleImageChange,multiple:!0,required:!0}),h?null:Object(a.jsxs)("div",{className:"errorMsg",children:[Object(a.jsx)("span",{children:b}),Object(a.jsx)("br",{})]}),Object(a.jsx)("span",{style:{color:"red",fontWeight:"bold",marginLeft:"5px"},children:this.state.errorMsgTitle}),Object(a.jsx)("span",{style:{color:"red",fontWeight:"bold",marginLeft:"5px"},children:this.state.errorMsgPrice}),Object(a.jsx)("span",{style:{color:"red",fontWeight:"bold",marginLeft:"5px"},children:this.state.errorMsgSize}),Object(a.jsx)("div",{className:this.props.classes.Button,children:Object(a.jsx)("button",{className:"dialogFormButton",children:O?"Edit":"Submit request"})})]})})}}]),n}(s.Component),At=Object(pt.a)((function(e){return{FormControl:Object(h.a)({width:500,display:"flex",flexWrap:"wrap",justifyContetn:"center"},e.breakpoints.down("xs"),{width:"98%",textAlign:"center",margin:"auto"}),CheckBox:{display:"flex",margin:20},TextArea:{display:"flex",flexDirection:"column",margin:20,width:"100%"},FormControlElement:Object(h.a)({margin:20,width:"42%"},e.breakpoints.down("xs"),{width:"100%"}),FormControlElementPeopleAllowed:{margin:20,width:"42%",display:"flex",flexDirection:"row"},Button:{display:"flex",justifyContent:"center",width:"100%"}}}))(Object(O.b)((function(e){return{isTitleAvailable:e.adv.isTitleAvailable,createAdErrorMsg:e.adv.createAdErrorMsg,ads:e.adv.ads,sortedAds:e.adv.sortedAds,uploadLoading:e.adv.uploadLoading,admin:e.auth.admin,superadmin:e.auth.superadmin}}),(function(e){return{createAd:function(t,n,a,s,r){return e(function(e,t,n,a,s){return function(){var r=Object(x.a)(v.a.mark((function r(c){var i,o,l,u,d,j,p,m,h,b,O,f,g;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(c({type:K}),i=e.title,o=e.price,l=e.address,u=e.peopleAllowed,d=e.size,j=e.pets,p=e.balcony,m=e.desc,h=e.image,(b=new We).append("title",i),b.append("price",o),b.append("address",l),b.append("peopleAllowed",u),b.append("size",d),b.append("pets",j),b.append("balcony",p),b.append("desc",m),O=0;O<h.length;O++)b.append("myImage",h[O]);b.append("admin",a),b.append("superadmin",s),f=Object(pe.a)(localStorage.getItem("auth-token-ssm")),g=f.user.id,console.log(b),he.post("api/adv/create/".concat(g),b).then((function(e){console.log("createAd:",e),e.data.title_available?(c(qe(b,e.data.title_available)),t(),n()):c($e("Title is already in use!"))})).catch((function(e){console.log(e),c($e())}));case 18:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,a,s,r))},loadModal:function(){return e(Ke())},getAllAds:function(){return e(Je())},updateAdv:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(x.a)(v.a.mark((function a(s){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s({type:"ADV_UPDATE_START"}),he.put("api/adv/updateAdv/".concat(n),e).then((function(e){console.log("updateAdv:",e),e.data.title_available&&(s({type:"ADV_UPDATE_SUCCESS"}),t(),et())})).catch((function(e){console.log(e)}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},getMyAd:function(){return e(et())},deleteImage:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(x.a)(v.a.mark((function a(s){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:he.put("api/adv/deleteImage/".concat(n),{clickedImage:e,image:t}).then((function(e){console.log("deleteImage:",e),s({type:"ADV_DELETE_IMAGE"})})).catch((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},uploadNewImage:function(t,n,a){return e(function(e,t,n){return function(){var t=Object(x.a)(v.a.mark((function t(a){var s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:le}),(s=new We).append("newImage",e),s.append("date",n),he.post("api/adv/uploadNewImage",s).then((function(e){console.log("upload new:",e),a({type:ue})})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t,0,a))}}}))(xt)),yt=n(212),Nt=n(106),Ct=n.n(Nt),St=n(105),Et=n.n(St),wt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleToggle=function(){var t=!e.state.open;e.setState({open:t})},e.state={open:!1},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isEdit,n=e.myAd;return Object(a.jsxs)("div",{className:"create",children:[Object(a.jsx)("div",{className:"createButton",children:Object(a.jsx)(yt.a,{variant:"round",size:"small",onClick:this.handleToggle,children:t?Object(a.jsx)(Et.a,{}):Object(a.jsx)(Ct.a,{})})}),Object(a.jsxs)(bt.a,{id:"dialog",open:this.state.open,onClose:this.handleToggle,children:[Object(a.jsx)(gt.a,{id:"dialogTitle",children:t?"Edit advertisement":"Create a new advertisement"}),Object(a.jsxs)(Ot.a,{children:[Object(a.jsx)(ft.a,{id:"dialogTitle",children:"Please Fill out the form below."}),Object(a.jsx)(At,{onClose:this.handleToggle,myAd:n,isEdit:t})]})]})]})}}]),n}(r.a.Component),kt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).changeEdit=function(){e.setState({isEdit:!0})},e.renderMyAdsLists=function(t){return t.map((function(t,n){var s=t.images.split(",");return Object(a.jsxs)("div",{className:1===t.approved?"my-ad":"my-ad-unapproved",children:[Object(a.jsx)("div",{className:"my-ad-title",children:t.title}),Object(a.jsx)("div",{className:"my-ad-images",children:s.map((function(e,t){return Object(a.jsx)("div",{children:e?Object(a.jsx)("div",{className:"my-ad-image",children:Object(a.jsx)("img",{src:"http://localhost:5000/static/".concat(e),alt:""})}):null},t)}))}),Object(a.jsxs)("div",{className:"my-ad-info",children:[Object(a.jsxs)("p",{children:["Price: ",t.price,"$"]}),Object(a.jsxs)("p",{children:["Address: ",t.address]}),Object(a.jsxs)("p",{children:["People allowed: ",t.people_allowed]}),Object(a.jsxs)("p",{children:["Size: ",t.size,"m\xb2"]}),Object(a.jsx)("p",{children:t.pets&&1===t.balcony?"Pets allowed and balcony included":1===t.pets?"Pets allowed":1===t.balcony?"Balcony included":"No pets and balcony"})]}),Object(a.jsx)("div",{className:"my-ad-desc",children:t.description}),Object(a.jsx)("div",{className:"edit-myads",children:0===t.approved?"":Object(a.jsx)(wt,{isEdit:e.state.isEdit,myAd:t})})]},n)}))},e.state={isEdit:!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getMyAd(),this.changeEdit()}},{key:"render",value:function(){var e=[],t=[];this.props.myAds.forEach((function(n){1===n.approved?e.push(n):t.push(n)}));var n=this.renderMyAdsLists(e),s=this.renderMyAdsLists(t);return Object(a.jsxs)("div",{className:"my-adss",children:[Object(a.jsx)(at,{title:this.props.admin||this.props.superadmin?e.length>0?"My ads":"You have no ads":e.length>0?"My Approved Ads":"You have no ads"}),n,Object(a.jsx)(at,{title:this.props.admin||this.props.superadmin?"":t.length>0?"Waiting to be published":""}),s]})}}]),n}(s.Component),_t=Object(O.b)((function(e){return{myAds:e.adv.myAds,getMyAdLoading:e.adv.getMyAdLoading,admin:e.auth.admin,superadmin:e.auth.superadmin}}),(function(e){return{getMyAd:function(){return e(et())}}}))(kt),Tt=(n(163),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).onInputChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.onChangeNameSurnameSend=function(t){t.preventDefault();var n=e.state,a=n.newName,s=n.newSurname;e.props.changeNameSurname(a,s)},e.onChangeEmailSend=function(t){t.preventDefault();var n=e.state.newEmail;e.props.changeEmail(n)},e.onChangePasswordSend=function(t){t.preventDefault();var n=e.state.newPassword;e.props.changePassword(n)},e.state={newName:"",newSurname:"",newEmail:"",newPassword:""},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.newName,n=e.newSurname,s=e.newEmail,r=e.newPassword;return Object(a.jsxs)("div",{className:"settings",children:[Object(a.jsxs)("form",{onSubmit:this.onChangeNameSurnameSend,children:[Object(a.jsx)(at,{title:"Settings"}),Object(a.jsx)("p",{children:"Please fill in this form to change your account informations."}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Name"})}),Object(a.jsx)(b,{type:"text",placeholder:"name:",name:"newName",value:t,onChange:this.onInputChange}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Surname"})}),Object(a.jsx)(b,{type:"text",placeholder:"surname:",name:"newSurname",value:n,onChange:this.onInputChange}),Object(a.jsx)("button",{type:"submit",className:"confirmChangeInfo",children:"Confirm"})]}),Object(a.jsxs)("form",{onSubmit:this.onChangeEmailSend,children:[Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)(b,{type:"text",placeholder:"email:",name:"newEmail",value:s,onChange:this.onInputChange}),Object(a.jsx)("button",{type:"submit",className:"confirmChangeInfo",children:"Confirm"})]}),Object(a.jsxs)("form",{onSubmit:this.onChangePasswordSend,children:[Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Password"})}),Object(a.jsx)(b,{type:"password",placeholder:"password:",name:"newPassword",value:r,onChange:this.onInputChange}),Object(a.jsx)("button",{type:"submit",className:"confirmChangeInfo",children:"Confirm"})]})]})}}]),n}(s.Component)),Dt=Object(O.b)(null,(function(e){return{changeNameSurname:function(t,n){return e(function(e,t){return function(){var n=Object(x.a)(v.a.mark((function n(a){var s,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:L}),s=Object(pe.a)(localStorage.getItem("auth-token-ssm")),r=s.user.id,he({method:"PUT",url:"api/user/ChangeNameSurname",data:{newName:e,newSurname:t,user_id:r}}).then((function(n){console.log("changeNameSurname:",n),a(ye(e,t,s.user))})).catch((function(e){console.log(e),a({type:U})}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},changeEmail:function(t){return e(function(e){return function(){var t=Object(x.a)(v.a.mark((function t(n){var a,s,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:R}),a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),s=Object(pe.a)(localStorage.getItem("auth-token-ssm")),r=s.user.id,a?he({method:"PUT",url:"api/user/changeEmail",data:{newEmail:e,user_id:r}}).then((function(t){console.log("changeEmail:",t),!0===t.data.email_available?n(Ne(e)):n(Ce())})).catch((function(e){console.log(e),n(Ce())})):n(Ce());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},changePassword:function(t){return e(function(e){return function(){var t=Object(x.a)(v.a.mark((function t(n){var a,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:G}),a=Object(pe.a)(localStorage.getItem("auth-token-ssm")),s=a.user.id,he({method:"PUT",url:"api/user/ChangePassword",data:{newPassword:e,user_id:s}}).then((function(t){console.log("changePass:",t),n(Se(e))})).catch((function(e){console.log(e),n({type:V})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Tt),Mt=(n(164),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"openNav",children:Object(a.jsx)("button",{className:"open-nav-button",onClick:this.props.openNav,children:"\u2630"})})}}]),n}(s.Component)),It=(n(165),n(102),n(107)),Lt=n(67),Pt=(n(166),n(58)),Ut=n(26),Rt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target,n=t.value,s=t.name;a.setState(Object(h.a)({},s,n))},a.setNewComment=function(e){"Enter"===e.key&&(a.setState({isFocus:!1}),a.props.updateComment(a.props.comm.id_ratings,a.state.comment))},a.getAllComments=function(){a.props.getAllComments(a.props.title)},a.deleteComment=function(e){a.props.deleteComment(e).then((function(){return a.getAllComments()}))},a.state={comment:"",isFocus:!1,isOwner:!1},a.textInput=r.a.createRef(),a.focusTextInput=a.focusTextInput.bind(Object(Lt.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({comment:this.props.comm.comment}),Object(pe.a)(localStorage.getItem("auth-token-ssm")).user.id===this.props.comm.id_user&&this.setState({isOwner:!0})}},{key:"focusTextInput",value:function(){this.setState({isFocus:!0}),this.textInput.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.comm,s=t.admin,r=t.superadmin,c=this.state,i=c.comment,o=c.isFocus,l=c.isOwner;return Object(a.jsxs)("div",{className:"user-ad-comment",children:[Object(a.jsxs)("div",{className:"comment-user-rating",children:[Object(a.jsxs)("div",{className:"comment-user",children:[Object(a.jsx)(ct.a,{size:20}),Object(a.jsx)("div",{className:"comment-user-info",children:Object(a.jsxs)("span",{children:[n.name," ",n.surname]})})]}),Object(a.jsxs)("div",{className:"comment-rating",children:[Object(a.jsx)("span",{children:"Rating: "}),n.rating,Object(a.jsx)(He.a,{})]})]}),Object(a.jsx)("label",{children:"Comment:"}),Object(a.jsxs)("div",{className:"comment-box",children:[Object(a.jsx)("div",{className:o?"comment-comm-select":"comment-comm",children:Object(a.jsx)("textarea",{value:i,name:"comment",onChange:this.handleChange,ref:this.textInput,readOnly:!o,onKeyPress:this.setNewComment})}),l?Object(a.jsxs)("div",{className:"comments-buttons",children:[Object(a.jsx)("button",{onClick:this.focusTextInput,children:Object(a.jsx)(Pt.b,{})}),Object(a.jsx)("button",{id:"del-butt",onClick:function(){return e.deleteComment(n.id_ratings)},children:Object(a.jsx)(Ut.b,{})})]}):s||r?Object(a.jsx)("button",{onClick:function(){return e.deleteComment(n.id_ratings)},children:Object(a.jsx)(Ut.b,{})}):null]})]})}}]),n}(s.Component),zt=Object(O.b)((function(e){return{admin:e.auth.admin,superadmin:e.auth.superadmin,deleteCommLoading:e.adv.deleteCommLoading}}),(function(e){return{updateComment:function(t,n){return e(function(e,t){return function(){var n=Object(x.a)(v.a.mark((function n(a){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:he({method:"PUT",url:"api/adv/updateComment",data:{id_rating:e,comment:t}}).then((function(e){console.log("updateComment:",e),a({type:"ADV_UPDATE_COMMENT"})})).catch((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},deleteComment:function(t){return e(function(e){return function(){var t=Object(x.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:de}),he({method:"DELETE",url:"api/adv/deleteComment",data:{comment_id:e}}).then((function(e){console.log("deleteComment:",e),n({type:je})})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},getAllComments:function(t){return e(Qe(t))}}}))(Rt);function Ht(){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:vt,alt:""})})}var Gt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"img-in-slider",style:{backgroundImage:"url(http://localhost:5000/static/".concat(this.props.image,")"),backgroundSize:"cover",backgroundPosition:"center"}})}}]),n}(s.Component),Ft=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).resetReview=function(){e.setState({comment:"",rating:""})},e.handleChange=function(t){var n=t.target,a=n.value,s=n.name;e.setState(Object(h.a)({},s,a))},e.onReviewSend=function(t){t.preventDefault();var n=e.state,a=n.comment,s=n.rating;e.props.createReview(a,s,e.props.match.params.title,e.resetReview).then((function(){return e.props.getAllComments(e.props.match.params.title)}))},e.state={images:[],comment:"",rating:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.location),this.props.getAd(this.props.match.params.title),this.props.getAllComments(this.props.match.params.title)}},{key:"render",value:function(){var e=this,t=this.props.adDetailsImages.map((function(t,n){return Object(a.jsx)("div",{className:"each-slide",children:e.props.getAdLoading?Object(a.jsx)(Ht,{}):Object(a.jsx)(Gt,{image:t})},n)})),n=this.props.comments.map((function(t,n){return Object(a.jsx)("div",{className:"comm-container",children:Object(a.jsx)(zt,{comm:t,title:e.props.match.params.title})},n)})),s=this.props.adDetails,r=this.state,c=r.comment,i=r.rating;return Object(a.jsxs)("div",{className:"ad-details",children:[Object(a.jsx)("div",{className:"ad-details-title",children:Object(a.jsx)(at,{title:s.title})}),Object(a.jsx)("div",{className:"ad-details-images",children:Object(a.jsx)("div",{className:"slide-container",children:Object(a.jsx)(It.Slide,{children:t})})}),Object(a.jsxs)("div",{className:"ad-details-info",children:[Object(a.jsxs)("p",{children:["- ",Object(a.jsx)("span",{children:"Price:"})," ",s.price,"$"]}),Object(a.jsxs)("p",{children:["- ",Object(a.jsx)("span",{children:"Size:"})," ",s.size,"m\xb2"]}),Object(a.jsxs)("p",{children:["- ",Object(a.jsx)("span",{children:"Address:"})," ",s.address]}),Object(a.jsxs)("p",{children:["- ",Object(a.jsx)("span",{children:"People allowed:"})," ",s.people_allowed]}),Object(a.jsxs)("p",{children:["- ",s.pets&&s.balcony?"Pets allowed and balcony included":s.pets?"Pets allowed":s.balcony?"Balcony included":"No pets and balcony"]})]}),Object(a.jsxs)("div",{className:"ad-details-desc",children:[Object(a.jsx)("div",{className:"ad-details-desc-title",children:Object(a.jsx)("span",{children:"Description"})}),Object(a.jsx)("div",{className:"ad-details-desc-body",children:Object(a.jsx)("p",{children:s.description})})]}),Object(a.jsx)("div",{className:"review-parent",children:Object(a.jsx)("form",{onSubmit:this.onReviewSend,children:Object(a.jsxs)("div",{className:"ad-details-review",children:[Object(a.jsx)("div",{className:"review-title",children:Object(a.jsx)("span",{children:"Review"})}),Object(a.jsxs)("div",{className:"comment",children:[Object(a.jsx)(ut.a,{id:"comment",children:"Comment"}),Object(a.jsx)(ht.a,{name:"comment",value:c,onChange:this.handleChange,"aria-label":"minimum height",rowsMin:5,placeholder:""})]}),Object(a.jsxs)("div",{className:"rating",children:[Object(a.jsx)(ut.a,{id:"rating",children:"Rating"}),Object(a.jsx)(jt.a,{value:i,name:"rating",onChange:this.handleChange,id:"select",children:[1,2,3,4,5].map((function(e,t){return Object(a.jsx)(dt.a,{name:"num",value:e,children:e},t)}))})]}),Object(a.jsx)("button",{children:"Submit"})]})})}),Object(a.jsx)("div",{className:"comments",children:n})]})}}]),n}(s.Component),Vt=Object(O.b)((function(e){return{adDetails:e.adv.adDetails,comments:e.adv.comments,commentLoading:e.adv.commentLoading,getAdLoading:e.adv.getAdLoading,adDetailsImages:e.adv.adDetailsImages,createReviewLoading:e.adv.createReviewLoading}}),(function(e){return{getAd:function(t){return e(function(e){return function(){var t=Object(x.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ee}),he({method:"POST",url:"api/adv/getAd",data:{title:e}}).then((function(e){var t,a;console.log("Ad:",e),n((t=e.data[0],a=e.data[0].images,{type:te,ad:t,images:a}))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},createReview:function(t,n,a,s){return e(function(e,t,n,a){return function(){var s=Object(x.a)(v.a.mark((function s(r){var c,i;return v.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:ne}),c=Object(pe.a)(localStorage.getItem("auth-token-ssm")),i=c.user.id,he({method:"POST",url:"api/adv/rating",data:{comment:e,rating:t,title:n,user_id:i}}).then((function(n){console.log("rating:",n),r(Xe(e,t)),a()})).catch((function(e){console.log(e)}));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(t,n,a,s))},getAllComments:function(t){return e(Qe(t))}}}))(Ft),Bt=n(59),Wt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).openNav=function(){e.setState({isNavOpen:!e.state.isNavOpen}),console.log(!e.state.isNavOpen)},e.logOut=function(){localStorage.clear(),e.props.logout()},e.state={isNavOpen:!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log("isAuth",this.props.isAuthenticated)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"layout",children:[Object(a.jsx)(_e,{title:"Studentski Smjestaj Mostar",componentToPassDown:Object(a.jsx)(wt,{}),openNavButton:Object(a.jsx)(Mt,{openNav:this.openNav})}),Object(a.jsxs)("div",{className:this.state.isNavOpen?"layout-sidebar-show":"layout-sidebar",children:[Object(a.jsxs)("div",{className:"sidebar-profile",children:[Object(a.jsx)("h2",{children:"WELCOME"}),Object(a.jsxs)("div",{className:"sidebar-name",children:[this.props.name," ",Object(a.jsx)("br",{}),this.props.surname]})]}),Object(a.jsx)("div",{className:"sidebar-links",children:Object(a.jsxs)("div",{className:"sidebar-nav",children:[Object(a.jsx)(f.c,{to:"/private",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(Bt.a,{size:18}),Object(a.jsx)("span",{children:"Home"})]})}),Object(a.jsx)(f.c,{to:"/private/profile",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(ct.a,{size:17}),Object(a.jsx)("span",{children:"Profile"})]})}),Object(a.jsx)(f.c,{to:"/private/myAds",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(Ut.a,{size:15}),Object(a.jsx)("span",{children:"My ads"})]})}),Object(a.jsx)(f.c,{to:"/private/settings",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(Ut.c,{size:15}),Object(a.jsx)("span",{children:"Settings"})]})})]})}),Object(a.jsx)("div",{className:"logout",children:Object(a.jsx)("button",{onClick:this.logOut,children:"log out"})})]}),Object(a.jsx)("div",{className:"layout-content",children:Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{exact:!0,path:"/private",component:rt}),Object(a.jsx)(p.b,{exact:!0,path:"/private/profile",render:function(){return Object(a.jsx)(ot,Object(j.a)(Object(j.a)({},e.props),{},{user:e.props.user}))}}),Object(a.jsx)(p.b,{exact:!0,path:"/private/myAds",component:_t}),Object(a.jsx)(p.b,{exact:!0,path:"/private/settings",component:Dt}),Object(a.jsx)(p.b,{exact:!0,path:"/private/details/:title",component:Vt})]})})]})}}]),n}(s.Component),qt=Object(O.b)(null,(function(e){return{getMe:function(){return e(we())}}}))(Wt),$t=(n(167),n(168),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).onAcceptSend=function(){var t=e.state.approved,n=e.props.adminAd.title;e.props.changeApproved(t,n,e.getAllAdminAds)},e.getAllAdminAds=function(){e.props.getAllAdsAdmin()},e.onDeny=function(){var t=e.props.adminAd.title,n=e.props.images;console.log(n),console.log(t),e.props.deleteAds(n,t,e.getAllAdminAds)},e.state={approved:!0},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.adminAd,n=e.images;return Object(a.jsxs)("div",{className:"admin-ad",children:[Object(a.jsxs)("div",{className:"title-images",children:[Object(a.jsx)("div",{className:"admin-ad-title",children:t.title}),Object(a.jsx)("div",{className:"admin-ad-images",children:n.map((function(e,t){return Object(a.jsx)("div",{className:"admin-ad-image",children:Object(a.jsx)("img",{src:"http://localhost:5000/static/".concat(e),alt:""})},t)}))})]}),Object(a.jsxs)("div",{className:"admin-ad-info",children:[Object(a.jsxs)("p",{children:["Price: ",t.price,"$"]}),Object(a.jsxs)("p",{children:["Address: ",t.address]}),Object(a.jsxs)("p",{children:["People allowed: ",t.people_allowed]}),Object(a.jsxs)("p",{children:["Size: ",t.size,"m\xb2"]}),Object(a.jsx)("p",{children:t.pets&&t.balcony?"Pets allowed and balcony included":t.pets?"Pets allowed":t.balcony?"Balcony included":""})]}),Object(a.jsxs)("div",{className:"desc-button",children:[Object(a.jsx)("div",{className:"admin-ad-desc",children:t.description}),Object(a.jsxs)("div",{className:"accept-button",children:[Object(a.jsx)("button",{onClick:this.onAcceptSend,children:"Accept"}),Object(a.jsx)("button",{onClick:this.onDeny,children:"Deny"})]})]})]},t.title)}}]),n}(s.Component)),Kt=Object(O.b)(null,(function(e){return{changeApproved:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(x.a)(v.a.mark((function a(s){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:he({method:"PUT",url:"api/adv/changeApproved",data:{approved:e,title:t}}).then((function(e){console.log("changeApproved:",e),s({type:"ADV_CHANGE_APPROVED_SUCCES"}),n()})).catch((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},getAllAdsAdmin:function(){return e(Ze())},deleteAds:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(x.a)(v.a.mark((function a(s){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:he({method:"DELETE",url:"api/adv/deleteAdv",data:{images:e,title:t}}).then((function(e){console.log("deleteAdv:",e),s({type:"ADV_DELETE_ADS"}),n()})).catch((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))}}}))($t),Jt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.adminAds.map((function(e,t){var n=e.images.split(",");return Object(a.jsx)(Kt,{images:n,adminAd:e},t)}));return Object(a.jsx)("div",{className:"admin-ads",children:e})}}]),n}(s.Component),Zt=Object(O.b)((function(e){return{adminAds:e.adv.adminAds}}),null)(Jt),Yt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllAdsAdmin()}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(Zt,{})})}}]),n}(s.Component),Xt=Object(O.b)(null,(function(e){return{getAllAdsAdmin:function(){return e(Ze())}}}))(Yt),Qt=(n(169),n(63)),en=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).getAllUsers=function(){e.props.getUsers()},e.getAllAdmins=function(){e.props.getAdmins()},e.onDeleteUser=function(t){e.props.deleteUser(t,e.getAllUsers)},e.onSetAdmin=function(t){e.props.setAdmin(t,e.getAllUsers,e.getAllAdmins)},e.onSetUser=function(t){e.props.setUser(t,e.getAllUsers,e.getAllAdmins)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getAllUsers(),this.getAllAdmins()}},{key:"render",value:function(){var e=this,t=this.props.users.map((function(t){return Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.Name}),Object(a.jsx)("td",{children:t.Surname}),Object(a.jsx)("td",{children:t.Email}),Object(a.jsx)("td",{onClick:function(){return e.onDeleteUser(t.id)},children:Object(a.jsx)(Qt.a,{})}),e.props.superadmin?Object(a.jsx)("td",{onClick:function(){return e.onSetAdmin(t.id)},children:Object(a.jsx)(Qt.b,{})}):null]})},t.id)})),n=this.props.admins.map((function(t){return Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.Name}),Object(a.jsx)("td",{children:t.Surname}),Object(a.jsx)("td",{children:t.Email}),Object(a.jsx)("td",{onClick:function(){return e.onDeleteUser(t.id)},children:Object(a.jsx)(Qt.a,{})}),e.props.superadmin?Object(a.jsx)("td",{onClick:function(){return e.onSetUser(t.id)},children:Object(a.jsx)(Qt.b,{})}):null]})},t.id)}));return Object(a.jsxs)("div",{className:"table",children:[Object(a.jsx)(at,{title:"User list"}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Surname"}),Object(a.jsx)("th",{children:"Email"}),Object(a.jsx)("th",{colSpan:"2",children:"Action"})]})}),t]}),this.props.superadmin?Object(a.jsxs)("div",{children:[Object(a.jsx)(at,{title:"Admin list"}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Surname"}),Object(a.jsx)("th",{children:"Email"}),Object(a.jsx)("th",{colSpan:"2",children:"Action"})]})}),n]})]}):null]})}}]),n}(s.Component),tn=Object(O.b)((function(e){return{users:e.auth.users,admins:e.auth.admins,superadmin:e.auth.superadmin}}),(function(e){return{getUsers:function(){return e(function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he({method:"GET",url:"api/user/getUsers"}).then((function(e){var n;console.log("getUsers:",e),t((n=e.data,{type:B,users:n}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},deleteUser:function(t,n){return e(function(e,t){return function(){var n=Object(x.a)(v.a.mark((function n(a){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:he({method:"DELETE",url:"api/user/deleteUser",data:{user_id:e}}).then((function(e){console.log("deleteUser:",e),a({type:"AUTH_DELETE_USER"}),t()})).catch((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},setAdmin:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(x.a)(v.a.mark((function a(s){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:he({method:"PUT",url:"api/user/setAdmin",data:{user_id:e}}).then((function(e){console.log("setAdmin:",e),s({type:"AUTH_SET_ADMIN"}),t(),n()})).catch((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},getAdmins:function(){return e(function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he({method:"GET",url:"api/user/getAdmins"}).then((function(e){var n;console.log("getAdmins:",e),t((n=e.data,{type:$,admins:n}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},setUser:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(x.a)(v.a.mark((function a(s){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:he({method:"PUT",url:"api/user/setUser",data:{user_id:e}}).then((function(e){console.log("setUser:",e),s({type:"AUTH_SET_USER"}),t(),n()})).catch((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))}}}))(en),nn=n(71),an=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).openNav=function(){e.setState({isNavOpen:!e.state.isNavOpen}),console.log(!e.state.isNavOpen)},e.logOut=function(){localStorage.clear(),e.props.logout()},e.state={isNavOpen:!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"layout",children:[Object(a.jsx)(_e,{title:"Studentski Smjestaj Mostar",componentToPassDown:Object(a.jsx)(wt,{}),openNavButton:Object(a.jsx)(Mt,{openNav:this.openNav})}),Object(a.jsxs)("div",{className:this.state.isNavOpen?"layout-sidebar-show":"layout-sidebar",children:[Object(a.jsxs)("div",{className:"sidebar-profile",children:[Object(a.jsx)("h2",{children:"WELCOME"}),Object(a.jsxs)("div",{className:"sidebar-name",children:[this.props.name," ",Object(a.jsx)("br",{}),this.props.surname]})]}),Object(a.jsx)("div",{className:"sidebar-links",children:Object(a.jsxs)("div",{className:"sidebar-nav",children:[Object(a.jsx)(f.c,{to:"/private/admin",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(Bt.a,{size:18}),Object(a.jsx)("span",{children:"Home"})]})}),Object(a.jsx)(f.c,{to:"/private/admin/profile",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(ct.a,{size:17}),Object(a.jsx)("span",{children:"Profile"})]})}),Object(a.jsx)(f.c,{to:"/private/admin/myAds",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(Ut.a,{size:15}),Object(a.jsx)("span",{children:"My ads"})]})}),Object(a.jsx)(f.c,{to:"/private/admin/requests",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(nn.a,{size:15}),Object(a.jsx)("span",{children:"Requests"})]})}),Object(a.jsx)(f.c,{to:"/private/admin/userList",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(Pt.a,{size:15}),Object(a.jsx)("span",{children:"User List"})]})}),Object(a.jsx)(f.c,{to:"/private/admin/settings",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(Ut.c,{size:15}),Object(a.jsx)("span",{children:"Settings"})]})})]})}),Object(a.jsx)("div",{className:"logout",children:Object(a.jsx)("button",{onClick:this.logOut,children:"log out"})})]}),Object(a.jsx)("div",{className:"layout-content",children:Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{exact:!0,path:"/private/admin",component:rt}),Object(a.jsx)(p.b,{exact:!0,path:"/private/admin/profile",render:function(){return Object(a.jsx)(ot,Object(j.a)(Object(j.a)({},e.props),{},{user:e.props.user}))}}),Object(a.jsx)(p.b,{exact:!0,path:"/private/admin/myAds",component:_t}),Object(a.jsx)(p.b,{exact:!0,path:"/private/admin/settings",component:Dt}),Object(a.jsx)(p.b,{exact:!0,path:"/private/admin/requests",component:Xt}),Object(a.jsx)(p.b,{exact:!0,path:"/private/admin/userList",component:tn}),Object(a.jsx)(p.b,{exact:!0,path:"/private/admin/details/:title",component:Vt})]})})]})}}]),n}(s.Component),sn=Object(O.b)((function(e){return{roles:e.auth.roles}}),(function(e){return{getMe:function(){return e(we())}}}))(an),rn=(n(170),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).openNav=function(){e.setState({isNavOpen:!e.state.isNavOpen}),console.log(!e.state.isNavOpen)},e.logOut=function(){localStorage.clear(),e.props.logout()},e.state={isNavOpen:!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"layout",children:[Object(a.jsx)(_e,{title:"Studentski Smjestaj Mostar",componentToPassDown:Object(a.jsx)(wt,{}),openNavButton:Object(a.jsx)(Mt,{openNav:this.openNav})}),Object(a.jsxs)("div",{className:this.state.isNavOpen?"layout-sidebar-show":"layout-sidebar",children:[Object(a.jsxs)("div",{className:"sidebar-profile",children:[Object(a.jsx)("h2",{children:"WELCOME"}),Object(a.jsxs)("div",{className:"sidebar-name",children:[this.props.name," ",Object(a.jsx)("br",{}),this.props.surname]})]}),Object(a.jsx)("div",{className:"sidebar-links",children:Object(a.jsxs)("div",{className:"sidebar-nav",children:[Object(a.jsx)(f.c,{to:"/private/superadmin",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(Bt.a,{size:18}),Object(a.jsx)("span",{children:"Home"})]})}),Object(a.jsx)(f.c,{to:"/private/superadmin/profile",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(ct.a,{size:17}),Object(a.jsx)("span",{children:"Profile"})]})}),Object(a.jsx)(f.c,{to:"/private/superadmin/myAds",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(Ut.a,{size:15}),Object(a.jsx)("span",{children:"My ads"})]})}),Object(a.jsx)(f.c,{to:"/private/superadmin/requests",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(nn.a,{size:15}),Object(a.jsx)("span",{children:"Requests"})]})}),Object(a.jsx)(f.c,{to:"/private/superadmin/userList",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(Pt.a,{size:15}),Object(a.jsx)("span",{children:"User List"})]})}),Object(a.jsx)(f.c,{to:"/private/superadmin/settings",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{onClick:this.openNav,children:[Object(a.jsx)(Ut.c,{size:15}),Object(a.jsx)("span",{children:"Settings"})]})})]})}),Object(a.jsx)("div",{className:"logout",children:Object(a.jsx)("button",{onClick:this.logOut,children:"log out"})})]}),Object(a.jsx)("div",{className:"layout-content",children:Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{exact:!0,path:"/private/superadmin",component:rt}),Object(a.jsx)(p.b,{exact:!0,path:"/private/superadmin/profile",render:function(){return Object(a.jsx)(ot,Object(j.a)(Object(j.a)({},e.props),{},{user:e.props.user}))}}),Object(a.jsx)(p.b,{exact:!0,path:"/private/superadmin/myAds",component:_t}),Object(a.jsx)(p.b,{exact:!0,path:"/private/superadmin/settings",component:Dt}),Object(a.jsx)(p.b,{exact:!0,path:"/private/superadmin/requests",component:Xt}),Object(a.jsx)(p.b,{exact:!0,path:"/private/superadmin/userList",component:tn}),Object(a.jsx)(p.b,{exact:!0,path:"/private/superadmin/details/:title",component:Vt})]})})]})}}]),n}(s.Component)),cn=Object(O.b)((function(e){return{roles:e.auth.roles}}),(function(e){return{getMe:function(){return e(we())}}}))(rn),on=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.authCheckToken(),localStorage.getItem("auth-token-ssm")&&this.props.getMe()}},{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,n=e.admin,s=e.adminLoading,r=e.superadmin,c=this.props.checkTokenLoading,i=this.props,o=i.userName,l=i.userSurname,u=i.user;return Object(a.jsx)("div",{children:c||s?Object(a.jsx)(Ht,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ze,{}),n?Object(a.jsx)(m,{isAuthenticated:t,Component:sn,name:o,surname:l,user:u,logout:this.props.logOut}):r?Object(a.jsx)(m,{isAuthenticated:t,Component:cn,name:o,surname:l,user:u,logout:this.props.logOut}):Object(a.jsx)(m,{isAuthenticated:t,Component:qt,name:o,surname:l,user:u,logout:this.props.logOut})]})})}}]),n}(r.a.Component),ln=Object(O.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,checkTokenLoading:e.auth.checkTokenLoading,userName:e.auth.userName,userSurname:e.auth.userSurname,isAdmin:e.auth.isAdmin,user:e.auth.user,admin:e.auth.admin,superadmin:e.auth.superadmin,adminLoading:e.auth.adminLoading}}),(function(e){return{authCheckToken:function(){return e(xe())},logOut:function(){return e(Ae())},getMe:function(){return e(we())}}}))(on),un=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,222)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))},dn=n(52),jn={userName:"",userSurname:"",userEmail:"",userPassword:"",authLoading:!1,authSuccess:!1,authError:!1,isAuthenticated:JSON.parse(localStorage.getItem("isAuth"))||!1,isEmailValid:!1,isEmailError:!1,registerErrorMsg:"",loginErrorMsg:"",checkTokenLoading:!1,roles:[],user:{},users:[],admins:[],admin:!1,superadmin:!1,adminLoading:!1},pn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{registerErrorMsg:"",isEmailError:!1})},mn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{userName:t.userName,userSurname:t.userSurname,userEmail:t.userEmail,userPassword:t.userPassword,isEmailValid:t.email_available,isEmailError:!t.email_available,registerErrorMsg:""})},hn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{registerErrorMsg:t.msg,isEmailError:!0})},bn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{authLoading:!0,authSuccess:!1,authError:!1,loginErrorMsg:""})},On=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{authLoading:!1,authSuccess:!0,isAuthenticated:!0,loginErrorMsg:"",userName:t.name,userSurname:t.surname,user:t.user,admin:t.isAdmin,superadmin:t.isSuperAdmin})},fn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{authLoading:!1,authError:!0,authSuccess:!1,isAuthenticated:!1,loginErrorMsg:t.msg})},gn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{authLoading:!1,authSuccess:!1,authError:!1,isEmailValid:!1,isEmailError:!1,loginErrorMsg:""})},vn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isEmailError:!1,registerErrorMsg:""})},xn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,checkTokenLoading:!0})},An=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!0,checkTokenLoading:!1,userName:t.name,userSurname:t.surname,user:t.user})},yn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,checkTokenLoading:!1})},Nn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,authSuccess:!1,admin:!1,superadmin:!1})},Cn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{roles:[t.roles]})},Sn=function(e,t){return Object(j.a)({},e)},En=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{userName:t.newName,userSurname:t.newSurname,user:t.user})},wn=function(e,t){return Object(j.a)({},e)},kn=function(e,t){return Object(j.a)({},e)},_n=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{userEmail:t.newEmail})},Tn=function(e,t){return Object(j.a)({},e)},Dn=function(e,t){return Object(j.a)({},e)},Mn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{userPassword:t.newPassword})},In=function(e,t){return Object(j.a)({},e)},Ln=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{users:t.users})},Pn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{admins:t.admins})},Un=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{adminLoading:!0})},Rn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{adminLoading:!1,admin:t.isAdmin,superadmin:t.isSuperAdmin})},zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return pn(e);case y:return mn(e,t);case N:return hn(e,t);case C:return bn(e);case S:return On(e,t);case E:return fn(e,t);case w:return gn(e);case k:return vn(e);case _:return xn(e);case T:return An(e,t);case D:return yn(e);case M:return Nn(e);case I:return Cn(e,t);case L:return Sn(e);case P:return En(e,t);case U:return wn(e);case R:return kn(e);case z:return _n(e,t);case H:return Tn(e);case G:return Dn(e);case F:return Mn(e,t);case V:return In(e);case B:return Ln(e,t);case $:return Pn(e,t);case W:return Un(e);case q:return Rn(e,t);default:return e}},Hn={title:"",price:"",address:"",peopleAllowed:"",size:"",pets:!1,balcony:!1,desc:"",images:[],createAdErrorMsg:"",isTitleAvailable:!1,ads:[],sortedAds:[],formData:"",adDetails:{},comment:"",rating:"",comments:[],myAds:[],adminAds:[],commentLoading:!1,getMyAdLoading:!1,uploadLoading:!1,getAdLoading:!1,adDetailsImages:[],createReviewLoading:!1,deleteCommLoading:!1},Gn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{createAdErrorMsg:"",isTitleAvailable:!1})},Fn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{title:t.formData.title,price:t.formData.price,address:t.formData.address,peopleAllowed:t.formData.peopleAllowed,size:t.formData.size,pets:t.formData.pets,balcony:t.formData.balcony,desc:t.formData.desc,images:t.formData.image,isTitleAvailable:t.title_available,createAdErrorMsg:"",formData:t.formData})},Vn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{createAdErrorMsg:t.msg,isTitleAvailable:!1})},Bn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{title:"",price:"",address:"",peopleAllowed:"",size:"",pets:!1,balcony:!1,desc:"",createAdErrorMsg:"",isTitleAvailable:!1})},Wn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{ads:t.ads,sortedAds:t.ads})},qn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{sortedAds:t.sortedAds})},$n=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{getAdLoading:!0})},Kn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{getAdLoading:!1,adDetails:t.ad,adDetailsImages:t.images.split(",")})},Jn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{createReviewLoading:!0})},Zn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{comment:t.comment,rating:t.rating.rating,createReviewLoading:!1})},Yn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{commentLoading:!0})},Xn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{comments:t.comments,commentLoading:!1})},Qn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{getMyAdLoading:!0})},ea=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{myAds:t.myAds,getMyAdLoading:!1})},ta=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{adminAds:t.adminAds})},na=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{uploadLoading:!0})},aa=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{uploadLoading:!1})},sa=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{deleteCommLoading:!0})},ra=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{deleteCommLoading:!1})},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Gn(e);case J:return Fn(e,t);case Z:return Vn(e,t);case Y:return Bn(e);case X:return Wn(e,t);case Q:return qn(e,t);case te:return Kn(e,t);case ae:return Zn(e,t);case ne:return Jn(e);case re:return Xn(e,t);case ie:return ea(e,t);case oe:return ta(e,t);case se:return Yn(e);case ce:return Qn(e);case ue:return aa(e);case le:return na(e);case ee:return $n(e);case je:return ra(e);case de:return sa(e);default:return e}},ia=n(108),oa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||dn.d,la=Object(dn.c)({auth:zn,adv:ca}),ua=Object(dn.e)(la,oa(Object(dn.a)(ia.a)));i.a.render(Object(a.jsx)(O.a,{store:ua,children:Object(a.jsx)(f.a,{basename:"",children:Object(a.jsx)(ln,{})})}),document.getElementById("root")),un()},75:function(e,t,n){},76:function(e,t,n){},98:function(e,t,n){}},[[171,1,2]]]);
//# sourceMappingURL=main.085287ac.chunk.js.map