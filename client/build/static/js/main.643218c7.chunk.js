(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},162:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(1),s=n.n(r),c=n(20),i=n.n(c),o=(n(126),n(10)),l=n(11),u=n(13),d=n(12),j=(n(127),n(5)),m=n(22);function p(e){var t=e.isAuthenticated,n=e.Component,r=e.name,s=e.surname,c=e.user,i=e.logout;return Object(a.jsx)(m.b,{render:function(e){return t?Object(a.jsx)(n,Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:t,name:r,surname:s,user:c,logout:i})):Object(a.jsx)(m.a,{to:"/welcome"})}})}var h=n(25);n(132),n(133);function b(e){var t=e.type,n=e.placeholder,r=e.name,s=e.value,c=e.onChange;return Object(a.jsx)("div",{className:"input",children:Object(a.jsx)("input",{type:t,placeholder:n,name:r,value:s,onChange:c})})}var O=n(14),f=n(19),g=n(8),x=n.n(g),v=n(16),A="AUTH_REGISTER_START",y="AUTH_REGISTER_SUCCESS",S="AUTH_REGISTER_FAIL",N="AUTH_LOGIN_START",E="AUTH_LOGIN_SUCCESS",w="AUTH_LOGIN_FAIL",C="AUTH_RESET_LOGIN",_="AUTH_RESET_REGISTER",k="AUTH_CHECK_TOKEN_START",T="AUTH_CHECK_TOKEN_SUCCESS",D="AUTH_CHECK_TOKEN_FAIL",M="ADV_CREATE_AD_START",I="ADV_CREATE_AD_SUCCESS",P="ADV_CREATE_AD_FAIL",U="ADV_RESET_MODAL_FORM",L="AUTH_LOGOUT",R="AUTH_ROLES",z="ADV_GET_ADS",H="ADV_FILTER_ADS",G="ADV_GET_AD",F="ADV_CREATE_REVIEW",V="ADV_GET_COMMENTS",B="ADV_GET_MYAD",W="AUTH_CHANGE_NAME_SURNAME_START",q="AUTH_CHANGE_NAME_SURNAME_SUCCESS",$="AUTH_CHANGE_NAME_SURNAME_FAIL",K="AUTH_CHANGE_EMAIL_START",J="AUTH_CHANGE_EMAIL_SUCCESS",Z="AUTH_CHANGE_EMAIL_FAIL",X="AUTH_CHANGE_PASSWORD_START",Y="AUTH_CHANGE_PASSWORD_SUCCESS",Q="AUTH_CHANGE_PASSWORD_FAIL",ee="ADV_GET_ADS_ADMIN",te="AUTH_GET_USERS",ne="AUTH_GET_ME",ae="AUTH_GET_ME_LOADING",re="AUTH_GET_ADMINS",se="ADV_GET_COMMENTS_LOADING",ce="ADV_GET_MYAD_LOADING",ie="ADV_UPLOAD_NEW_IMAGE_SUCCESS",oe="ADV_UPLOAD_NEW_IMAGE_LOADING",le="ADV_GET_AD_LOADING",ue=n(29),de=n(102),je=n.n(de).a.create({baseURL:"http://localhost:5000/"}),me=function(e){return{type:S,msg:e}},pe=function(e,t,n,a,r){return{type:E,name:e,surname:t,user:n,isAdmin:a,isSuperAdmin:r}},he=function(e){return{type:w,msg:e}},be=function(){return function(e){e({type:C})}},Oe=function(){return function(e){e({type:_})}},fe=function(){return function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:k}),console.log("Checking token ..."),localStorage.getItem("auth-token-ssm")?(n=Object(ue.a)(localStorage.getItem("auth-token-ssm")),console.log(n.user),console.log(1e3*n.exp),console.log(Date.now()),console.log(JSON.parse(localStorage.getItem("auth-token-ssm"))),1e3*n.exp<Date.now()&&localStorage.clear(),t((a=n.user.Name,r=n.user.Surname,s=n.user,{type:T,name:a,surname:r,user:s}))):t({type:D,errorMsg:void 0});case 3:case"end":return e.stop()}var a,r,s}),e)})));return function(t){return e.apply(this,arguments)}}()},ge=function(){return function(e){e({type:L})}},xe=function(e,t,n){return{type:q,newName:e,newSurname:t,user:n}},ve=function(e){return{type:J,newEmail:e}},Ae=function(){return{type:Z}},ye=function(e){return{type:Y,newPassword:e}},Se=function(e,t){return{type:ne,isAdmin:e,isSuperAdmin:t}},Ne=function(){return function(){var e=Object(v.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ae}),n=Object(ue.a)(localStorage.getItem("auth-token-ssm")),a=n.user.id_role,je({method:"POST",url:"api/user/getMe",data:{role_id:a}}).then((function(e){if(console.log("getMe:",e),localStorage.getItem("auth-token-ssm")){"admin"===e.data[0].role_name?t(Se(!0,!1)):"user"===e.data[0].role_name?t(Se(!1,!1)):"superadmin"===e.data[0].role_name&&t(Se(!1,!0))}})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};n(153);function Ee(e){var t=e.title,n=e.componentToPassDown;return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("div",{className:"header-title",children:Object(a.jsx)("h1",{children:t})}),n]})}n(154);function we(){return Object(a.jsx)("div",{className:"footer"})}var Ce=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).onInputChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.onAuthenticateHandler=function(t){t.preventDefault();var n=e.state,a=n.email,r=n.password,s=e.props.roles;e.props.authenticate(a,r,e.onAuthSuccessUser,e.onAuthSuccessAdmin,e.onAuthSuccessSuperAdmin,s)},e.onAuthSuccessUser=function(){e.props.history.push("/private")},e.onAuthSuccessAdmin=function(){e.props.history.push("/private/admin")},e.onAuthSuccessSuperAdmin=function(){e.props.history.push("/private/superadmin")},e.state={email:"",password:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.loadSignInPage(),this.props.get_role_id();var e=localStorage.getItem("auth-token-ssm");e&&"undefined"!==e&&(this.props.admin?this.props.history.push("/private/admin"):this.props.superadmin?this.props.history.push("/private/superadmin"):this.props.history.push("/private"))}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,r=this.props,s=r.loginErrorMsg,c=r.authError;return Object(a.jsxs)("div",{className:"login-container",children:[Object(a.jsx)(Ee,{title:""}),Object(a.jsx)("div",{className:"login",children:Object(a.jsxs)("form",{onSubmit:this.onAuthenticateHandler,children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)(b,{type:"text",placeholder:"email:",name:"email",value:t,onChange:this.onInputChange}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Password"})}),Object(a.jsx)(b,{type:"password",placeholder:"password:",name:"password",value:n,onChange:this.onInputChange}),c?Object(a.jsx)("div",{className:"loginErrorMsg",children:Object(a.jsx)("span",{children:s})}):null,Object(a.jsx)("button",{type:"submit",className:"loginbtn",children:"Login"}),Object(a.jsx)(f.b,{to:"/register",children:Object(a.jsx)("p",{className:"toRegister",children:"Register here!"})})]})}),Object(a.jsx)(we,{})]})}}]),n}(s.a.Component),_e=Object(O.b)((function(e){return{loginErrorMsg:e.auth.loginErrorMsg,authError:e.auth.authError,roles:e.auth.roles,admin:e.auth.admin,superadmin:e.auth.superadmin}}),(function(e){return{authenticate:function(t,n,a,r,s,c){return e(function(e,t,n,a,r,s){return function(){var c=Object(v.a)(x.a.mark((function c(i){return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:i({type:N}),je({method:"POST",url:"api/user/login",data:{email:e,password:t}}).then(function(){var e=Object(v.a)(x.a.mark((function e(t){var c,o,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("authenticate:",t),localStorage.setItem("auth-token-ssm",JSON.stringify(t.data.token)),console.log("pass",t.data.password),console.log("exist",t.data.email_exist),localStorage.setItem("isAuth",JSON.stringify(t.data.email_exist)),c=Object(ue.a)(localStorage.getItem("auth-token-ssm")),console.log(s[0]),o=!1,l=!1,!0===t.data.email_exist&&!0===t.data.password?t.data.role_id===s[0].superadmin_role_id?(l=!0,o=!1,i(pe(c.user.Name,c.user.Surname,c.user,o,l)),r()):t.data.role_id===s[0].admin_role_id?(o=!0,l=!1,i(pe(c.user.Name,c.user.Surname,c.user,o,l)),a()):t.data.role_id===s[0].user_role_id&&(o=!1,l=!1,i(pe(c.user.Name,c.user.Surname,c.user,o,l)),n()):!0===t.data.email_exist&&!1===t.data.password?i(he("Password is not valid")):!1===t.data.email_exist&&"undefined"===typeof t.data.password&&i(he("Email is incorrect. Please register if you don't have an account!"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.response),i(he())}));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(t,n,a,r,s,c))},loadSignInPage:function(){return e(be())},get_role_id:function(){return e(function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je({method:"GET",url:"api/user/get_role_id"}).then(function(){var e=Object(v.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("role_data",n),t((a=n.data,{type:R,roles:a}));case 2:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.response)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(Ce),ke=(n(155),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).onInputChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.onRegisterSend=function(t){t.preventDefault();var n=e.state,a=n.name,r=n.surname,s=n.email,c=n.password;e.props.registerUser(a,r,s,c,e.onSuccessRedirect)},e.onSuccessRedirect=function(){e.props.history.push("/login")},e.state={name:"",surname:"",email:"",password:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.loadSignUpPage()}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.surname,r=e.email,s=e.password,c=this.props,i=c.isEmailError,o=c.registerErrorMsg;return Object(a.jsxs)("div",{className:"register-container",children:[Object(a.jsx)(Ee,{title:""}),Object(a.jsx)("div",{className:"register",children:Object(a.jsxs)("form",{onSubmit:this.onRegisterSend,children:[Object(a.jsx)("h1",{children:"Register"}),Object(a.jsx)("p",{children:"Please fill in this form to create an account."}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Name"})}),Object(a.jsx)(b,{type:"text",placeholder:"name:",name:"name",value:t,onChange:this.onInputChange}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Surname"})}),Object(a.jsx)(b,{type:"text",placeholder:"surname:",name:"surname",value:n,onChange:this.onInputChange}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)(b,{type:"text",placeholder:"email:",name:"email",value:r,onChange:this.onInputChange}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Password"})}),Object(a.jsx)(b,{type:"password",placeholder:"password:",name:"password",value:s,onChange:this.onInputChange}),i?Object(a.jsxs)("div",{className:"errorMsg",children:[Object(a.jsx)("span",{children:o}),Object(a.jsx)("br",{})]}):null,Object(a.jsx)("button",{type:"submit",className:"registerbtn",children:"Register"})]})}),Object(a.jsx)(we,{})]})}}]),n}(s.a.Component)),Te=Object(O.b)((function(e){return{isEmailError:e.auth.isEmailError,registerErrorMsg:e.auth.registerErrorMsg}}),(function(e){return{registerUser:function(t,n,a,r,s){return e(function(e,t,n,a,r){return function(){var s=Object(v.a)(x.a.mark((function s(c){return x.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:c({type:A}),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())?je({method:"POST",url:"api/user/register",data:{name:e,surname:t,email:n,password:a}}).then((function(s){var i,o,l,u,d;console.log("registerUser:",s),!0===s.data.email_available?(c((i=e,o=t,l=n,u=a,d=s.data.email_available,{type:y,userName:i,userSurname:o,userEmail:l,userPassword:u,email_available:d})),r()):c(me("Email not valid or already exists!"))})).catch((function(e){console.log(e),c(me("Email not valid or already exists!"))})):c(me("Email is not valid"));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(t,n,a,r,s))},loadSignUpPage:function(){return e(Oe())}}}))(ke),De=(n(156),n.p+"static/media/details-4.f2053654.jpeg");function Me(){return Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("div",{className:"img",children:Object(a.jsx)("img",{src:De,alt:""})}),Object(a.jsxs)("div",{className:"info",children:[Object(a.jsx)("div",{className:"welcome",children:Object(a.jsx)("h1",{children:"Welcome!"})}),Object(a.jsxs)("div",{className:"infoButtons",children:[Object(a.jsx)(f.b,{to:"/login",children:Object(a.jsx)("button",{children:"Sign in"})}),Object(a.jsx)(f.b,{to:"/register",children:Object(a.jsx)("button",{children:"Sign up"})})]})]})]})}function Ie(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ee,{title:"Studentski Smje\u0161taj Mostar",componentToPassDown:""}),Object(a.jsx)(Me,{}),Object(a.jsx)(we,{})]})}var Pe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(m.d,{children:[Object(a.jsx)(m.b,{exact:!0,path:"/welcome",component:Ie}),Object(a.jsx)(m.b,{exact:!0,path:"/register",component:Te}),Object(a.jsx)(m.b,{exact:!0,path:"/login",component:_e})]})})}}]),n}(r.Component),Ue=(n(157),n(75),n(57)),Le=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).stars=function(){var t=e.props.ad.average,n=Math.round(t);return Array.from(Array(n).keys()).map((function(e,t){return Object(a.jsx)(Ue.a,{},t)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.ad,t=e.title,n=e.price,r=e.images,s=this.props,c=s.admin,i=s.superadmin,o=r.split(",")[0],l=this.stars();return Object(a.jsxs)("div",{className:"ad-cart",children:[Object(a.jsx)("div",{className:"cart-title",children:Object(a.jsx)("h4",{children:t})}),Object(a.jsxs)("div",{className:"cart-img",children:[Object(a.jsx)(f.c,{to:{pathname:c?"/private/admin/details/".concat(t):i?"/private/superadmin/details/".concat(t):"/private/details/".concat(t)},children:Object(a.jsx)("img",{src:"http://localhost:5000/static/".concat(o),alt:""})}),Object(a.jsxs)("div",{className:"cart-price",children:["$",n]}),Object(a.jsx)("div",{className:"review",children:l})]})]})}}]),n}(r.Component),Re=Object(O.b)((function(e){return{admin:e.auth.admin,superadmin:e.auth.superadmin}}),null)(Le),ze=function(e){var t=Object(O.c)((function(e){return e.adv.sortedAds})).map((function(e,t){return Object(a.jsx)(Re,{ad:e},t)}));return Object(a.jsx)("div",{className:"ads-list",children:t})},He=n(53),Ge=n(79),Fe=function(e,t){return{type:I,title_available:t,formData:e}},Ve=function(e){return{type:P,msg:e}},Be=function(){return function(e){e({type:U})}},We=function(){return function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je({method:"GET",url:"api/adv/getAdv"}).then((function(e){var n;console.log("allAds:",e),t((n=e.data,{type:z,ads:n}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},qe=function(){return function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je({method:"GET",url:"api/adv/getAdvAdmin"}).then((function(e){var n;console.log("allAdsAdmin:",e),t((n=e.data,{type:ee,adminAds:n}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$e=function(e){return{type:H,sortedAds:e}},Ke=function(e,t){return{type:F,comment:e,rating:t}},Je=function(){return function(){var e=Object(v.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ce}),n=Object(ue.a)(localStorage.getItem("auth-token-ssm")),a=n.user.id,je({method:"POST",url:"api/adv/getMyAd",data:{user_id:a}}).then((function(e){var n;console.log("myAd:",e),t((n=e.data,{type:B,myAds:n}))})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ze=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target,a=n.value,r=n.name,s=n.type,c=n.checked,i="checkbox"===s?c:a;e.setState(Object(h.a)({},r,i),e.filter)},e.filter=function(){var t=e.state,n=t.price,a=t.size,r=t.pets,s=t.balcony;e.props.filterAds(e.props.ads,n,a,s,r)},e.state={sortedAds:[],ads:[],price:1e3,maxPrice:1e3,minPrice:0,size:400,maxSize:400,minSize:0,pets:!1,balcony:!1},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.price,n=e.maxPrice,r=e.minPrice,s=e.size,c=e.maxSize,i=e.minSize,o=e.pets,l=e.balcony;return Object(a.jsxs)("div",{className:"filters",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("label",{htmlFor:"price",children:["Price $",t]}),Object(a.jsx)("input",{type:"range",name:"price",min:r,max:n,id:"price",value:t,step:"50",onChange:this.handleChange,className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("label",{htmlFor:"size",children:["Size m\xb2",s]}),Object(a.jsx)("input",{type:"range",name:"size",min:i,max:c,id:"size",value:s,step:"50",onChange:this.handleChange,className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("div",{className:"single-extra",children:[Object(a.jsx)("input",{type:"checkbox",name:"balcony",id:"balcony",checked:l,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"breakfast",children:"balcony"})]}),Object(a.jsxs)("div",{className:"single-extra",children:[Object(a.jsx)("input",{type:"checkbox",name:"pets",id:"pets",checked:o,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"pets",children:"pets"})]})]})]})}}]),n}(r.Component),Xe=Object(O.b)((function(e){return{ads:e.adv.ads}}),(function(e){return{filterAds:function(t,n,a,r,s){return e(function(e,t,n,a,r){return function(){var s=Object(v.a)(x.a.mark((function s(c){var i;return x.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:i=(i=(i=Object(He.a)(e)).filter((function(e){return e.price<=t}))).filter((function(e){return e.size<=n})),a&&(i=i.filter((function(e){return 1===e.balcony}))),r&&(i=i.filter((function(e){return 1===e.pets}))),c($e(i));case 6:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(t,n,a,r,s))}}}))(Ze);n(158);function Ye(e){var t=e.title;return Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("h2",{children:t})})}var Qe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllAds()}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ye,{title:"Advertisements"}),Object(a.jsx)(Xe,{}),Object(a.jsx)(ze,{})]})}}]),n}(r.Component),et=Object(O.b)((function(e){return{ads:e.adv.ads,user:e.auth.user}}),(function(e){return{getAllAds:function(){return e(We())}}}))(Qe),tt=(n(159),n(30)),nt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getMyAd()}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.myAds,r=[];n.forEach((function(e){1===e.approved&&r.push(e)}));var s=r.length;return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ye,{title:"Profile"}),Object(a.jsx)("div",{className:"user-profile",children:Object(a.jsx)("div",{className:"profile-cv",children:Object(a.jsxs)("div",{className:"profile-info",children:[Object(a.jsx)("div",{className:"profile-name",children:t.Name}),Object(a.jsx)("div",{className:"profile-surname",children:t.Surname}),Object(a.jsx)("div",{className:"profile-mail",children:t.Email}),Object(a.jsxs)("div",{className:"profile-myAds",children:["Advertisements number: ",s]}),Object(a.jsx)("div",{className:"profile-button",children:"Contact me"}),Object(a.jsx)("div",{className:"profile-photo",children:Object(a.jsx)(tt.a,{})})]})})})]})}}]),n}(r.Component),at=Object(O.b)((function(e){return{user:e.auth.user,myAds:e.adv.myAds}}),(function(e){return{getMyAd:function(){return e(Je())},authCheckToken:function(){return e(fe())}}}))(nt),rt=(n(160),n(216)),st=n(217),ct=n(218),it=n(212),ot=n(7),lt=n(213),ut=n(172),dt=(n(97),n(215)),jt=n(209),mt=n(210),pt=n(208),ht=n.p+"static/media/loading-arrow.dd29210f.gif",bt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleToggle=function(t){var n=!e.state.isOpen;if(null!==t){var a=Object(He.a)(e.state.image)[t];e.setState({clickedImage:a})}e.setState({isOpen:n})},e.onDeleteImage=function(t){var n=e.state.image,a=Object(He.a)(n).filter((function(e){return e!==t}));e.setState({image:a,isDeleted:!0,isOpen:!1}),e.props.deleteImage(t,a,e.props.myAd.advertisement_id)},e.handleChange=function(t){var n=t.target,a=n.value,r=n.name;e.setState(Object(h.a)({},r,a))},e.handleChangeCheckBox=function(t){var n=t.target,a=n.checked,r=n.name;e.setState(Object(h.a)({},r,a))},e.handleImageChange=function(t){e.setState({image:t.target.files}),console.log(t.target.files)},e.handleNewImageUpload=function(t){var n=e.state,a=n.image,r=n.chooseFiles,s=t.target.files[0],c=(new Date).getTime().toString(),i=[].concat(Object(He.a)(r),[s]);e.setState({newImage:s,chooseFiles:i,image:[].concat(Object(He.a)(a),[c+s.name]),isClicked:!0,clickedImage:s}),e.props.uploadNewImage(s,a,c)},e.handleClick=function(e){console.log(e)},e.formValidation=function(){var t=e.state,n=t.title,a=t.price,r=t.size,s="",c="",i="",o=!1,l=!1,u=!1,d=!1;return/^[a-zA-Z ]+$/.test(n)?(s="",l=!0):(s="Title only contains letters. ",c="",i="",l=!1),/^\d+$/.test(a)?a>0&&a<1e3?(c="",u=!0):(c="Price must be betweeen 0 and 1000. ",u=!1):(c="Price must be number. ",u=!1),/^\d+$/.test(r)?r>0&&r<400?(i="",d=!0):(i="Size must be betweeen 0 and 400. ",d=!1):(i="Size must be number. ",d=!1),o=!!(l&&u&&d),e.setState({errorMsgTitle:s,errorMsgPrice:c,errorMsgSize:i}),o},e.onAdSend=function(t){t.preventDefault(),e.formValidation()&&e.props.createAd(e.state,e.onCloseModal,e.getAds)},e.onAdUpdate=function(t){t.preventDefault(),e.formValidation()&&e.props.updateAdv(e.state,e.onCloseModal,e.props.myAd.advertisement_id)},e.getAds=function(){e.props.getAllAds()},e.onCloseModal=function(){e.props.onClose(),e.props.loadModal(),e.props.getMyAd()},e.ChooseFileRender=function(){var t=e.state.image.length;return Array.from(Array(5-t).keys()).map((function(t,n){return Object(a.jsxs)("label",{className:"choose-file",children:[Object(a.jsx)("input",{type:"file",placeholder:"",name:"newImage",onChange:e.handleNewImageUpload,className:"input-file"}),Object(a.jsx)("div",{className:"add-new-image",children:Object(a.jsx)(Ue.b,{})})]},n)}))},e.state={title:"",price:"",address:"",peopleAllowed:"",size:"",pets:!1,balcony:!1,desc:"",image:[],isOpen:!1,clickedImage:"",isDeleted:!1,newImage:"",showNewImage:"",isClicked:!1,chooseFiles:[],errorMsgTitle:"",errorMsgPrice:"",errorMsgSize:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){if(this.props.isEdit){var e=this.props.myAd.images.split(",");this.setState({title:this.props.myAd.title||"",price:this.props.myAd.price||"",address:this.props.myAd.address||"",peopleAllowed:this.props.myAd.people_allowed||"",size:this.props.myAd.size||"",pets:1===this.props.myAd.pets,balcony:1===this.props.myAd.balcony,desc:this.props.myAd.description||"",image:e||[]})}}},{key:"render",value:function(){var e,t,n=this,r=this.state,s=r.title,c=r.price,i=r.address,o=r.peopleAllowed,l=r.size,u=r.pets,d=r.balcony,j=r.desc,m=r.image,p=this.props,h=p.isTitleAvailable,b=p.createAdErrorMsg,O=p.isEdit;return e=this.ChooseFileRender(),O&&(t=m.map((function(e,t){return Object(a.jsx)("div",{children:e?Object(a.jsx)("div",{className:"form-image",children:Object(a.jsx)("img",{src:n.props.uploadLoading?ht:"http://localhost:5000/static/".concat(e),alt:"aa",onClick:function(){return n.handleToggle(t)}})}):""},t)}))),Object(a.jsx)("div",{children:Object(a.jsxs)("form",{className:this.props.classes.FormControl,onSubmit:O?this.onAdUpdate:this.onAdSend,children:[Object(a.jsx)(rt.a,{label:"Title",value:s,name:"title",onChange:this.handleChange,margin:"normal",className:this.props.classes.FormControlElement,id:"title",required:!0}),Object(a.jsx)("br",{}),Object(a.jsx)(rt.a,{label:"Price",value:c,name:"price",onChange:this.handleChange,margin:"normal",className:this.props.classes.FormControlElement,required:!0}),Object(a.jsx)("br",{}),Object(a.jsx)(rt.a,{label:"Adress",value:i,name:"address",onChange:this.handleChange,margin:"normal",className:this.props.classes.FormControlElement,required:!0}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:this.props.classes.FormControlElementPeopleAllowed,children:[Object(a.jsx)(st.a,{id:"input",children:"People Allowed"}),Object(a.jsx)(it.a,{value:o,name:"peopleAllowed",onChange:this.handleChange,required:!0,children:[1,2,3,4,5,6].map((function(e,t){return Object(a.jsx)(ct.a,{name:"num",value:e,children:e},t)}))})]}),Object(a.jsx)("br",{}),Object(a.jsx)(rt.a,{label:"Size",value:l,name:"size",onChange:this.handleChange,margin:"normal",className:this.props.classes.FormControlElement,required:!0}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:this.props.classes.CheckBox,children:[Object(a.jsx)(st.a,{id:"input",children:"Pets"}),Object(a.jsx)(lt.a,{checked:u,name:"pets",onChange:this.handleChangeCheckBox,color:"primary",inputProps:{"aria-label":"primary checkbox"}}),Object(a.jsx)("br",{}),Object(a.jsx)(st.a,{id:"input",children:"Balcony"}),Object(a.jsx)(lt.a,{checked:d,name:"balcony",onChange:this.handleChangeCheckBox,color:"primary",inputProps:{"aria-label":"primary checkbox"}}),Object(a.jsx)("br",{})]}),Object(a.jsxs)("div",{className:this.props.classes.TextArea,children:[Object(a.jsx)(st.a,{id:"desc",children:"Description"}),Object(a.jsx)(ut.a,{name:"desc",value:j,onChange:this.handleChange,"aria-label":"minimum height",rowsMin:5,placeholder:"",required:!0})]}),O?Object(a.jsxs)("div",{className:"form-images",children:[t,e,Object(a.jsxs)(dt.a,{open:this.state.isOpen,onClose:function(){return n.handleToggle(null)},children:[Object(a.jsx)(pt.a,{id:"dialogTitle"}),Object(a.jsxs)(jt.a,{children:[Object(a.jsx)(mt.a,{id:"dialogTitle"}),Object(a.jsxs)("div",{className:"modal-image",children:[Object(a.jsx)("img",{src:"http://localhost:5000/static/".concat(this.state.clickedImage),alt:"",className:"clicked-image",name:"modal-image"}),1===m.length?"":Object(a.jsx)("div",{className:"button-x",onClick:function(){return n.onDeleteImage(n.state.clickedImage)},children:Object(a.jsx)(tt.b,{})})]})]})]})]}):null,O?null:Object(a.jsx)("input",{type:"file",name:"myImage",onChange:this.handleImageChange,multiple:!0,required:!0}),h?null:Object(a.jsxs)("div",{className:"errorMsg",children:[Object(a.jsx)("span",{children:b}),Object(a.jsx)("br",{})]}),Object(a.jsx)("span",{style:{color:"red",fontWeight:"bold",marginLeft:"5px"},children:this.state.errorMsgTitle}),Object(a.jsx)("span",{style:{color:"red",fontWeight:"bold",marginLeft:"5px"},children:this.state.errorMsgPrice}),Object(a.jsx)("span",{style:{color:"red",fontWeight:"bold",marginLeft:"5px"},children:this.state.errorMsgSize}),Object(a.jsx)("div",{className:this.props.classes.Button,children:Object(a.jsx)("button",{className:"dialogFormButton",children:O?"Edit":"Submit request"})})]})})}}]),n}(r.Component),Ot=Object(ot.a)((function(e){return{FormControl:{width:500,display:"flex",flexWrap:"wrap",justifyContetn:"center"},CheckBox:{display:"flex",margin:20},TextArea:{display:"flex",flexDirection:"column",margin:20,width:"100%"},FormControlElement:{margin:20,width:"42%"},FormControlElementPeopleAllowed:{margin:20,width:"42%",display:"flex",flexDirection:"row"},Button:{display:"flex",justifyContent:"center",width:"100%"}}}))(Object(O.b)((function(e){return{isTitleAvailable:e.adv.isTitleAvailable,createAdErrorMsg:e.adv.createAdErrorMsg,ads:e.adv.ads,sortedAds:e.adv.sortedAds,uploadLoading:e.adv.uploadLoading}}),(function(e){return{createAd:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(v.a)(x.a.mark((function a(r){var s,c,i,o,l,u,d,j,m,p,h,b,O,f;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(r({type:M}),s=localStorage.getItem("isAdmin"),c=e.title,i=e.price,o=e.address,l=e.peopleAllowed,u=e.size,d=e.pets,j=e.balcony,m=e.desc,p=e.image,(h=new Ge).append("title",c),h.append("price",i),h.append("address",o),h.append("peopleAllowed",l),h.append("size",u),h.append("pets",d),h.append("balcony",j),h.append("desc",m),b=0;b<p.length;b++)h.append("myImage",p[b]);h.append("isAdmin",s),O=Object(ue.a)(localStorage.getItem("auth-token-ssm")),f=O.user.id,console.log(h),je.post("api/adv/create/".concat(f),h).then((function(e){console.log("createAd:",e),e.data.title_available?(r(Fe(h,e.data.title_available)),t(),n()):r(Ve("Title is already in use!"))})).catch((function(e){console.log(e),r(Ve())}));case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},loadModal:function(){return e(Be())},getAllAds:function(){return e(We())},updateAdv:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(v.a)(x.a.mark((function a(r){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r({type:"ADV_UPDATE_START"}),je.put("api/adv/updateAdv/".concat(n),e).then((function(e){console.log("updateAdv:",e),e.data.title_available&&(r({type:"ADV_UPDATE_SUCCESS"}),t(),Je())})).catch((function(e){console.log(e)}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},getMyAd:function(){return e(Je())},deleteImage:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(v.a)(x.a.mark((function a(r){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:je.put("api/adv/deleteImage/".concat(n),{clickedImage:e,image:t}).then((function(e){console.log("deleteImage:",e),r({type:"ADV_DELETE_IMAGE"})})).catch((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},uploadNewImage:function(t,n,a){return e(function(e,t,n){return function(){var t=Object(v.a)(x.a.mark((function t(a){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:oe}),(r=new Ge).append("newImage",e),r.append("date",n),je.post("api/adv/uploadNewImage",r).then((function(e){console.log("upload new:",e),a({type:ie})})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t,0,a))}}}))(bt)),ft=n(211),gt=n(104),xt=n.n(gt),vt=n(103),At=n.n(vt),yt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleToggle=function(){var t=!e.state.open;e.setState({open:t})},e.state={open:!1},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isEdit,n=e.myAd;return Object(a.jsxs)("div",{className:"create",children:[Object(a.jsx)("div",{className:"createButton",children:Object(a.jsx)(ft.a,{variant:"round",size:"small",onClick:this.handleToggle,children:t?Object(a.jsx)(At.a,{}):Object(a.jsx)(xt.a,{})})}),Object(a.jsxs)(dt.a,{open:this.state.open,onClose:this.handleToggle,children:[Object(a.jsx)(pt.a,{id:"dialogTitle",children:t?"Edit advertisement":"Create a new advertisement"}),Object(a.jsxs)(jt.a,{children:[Object(a.jsx)(mt.a,{id:"dialogTitle",children:"Please Fill out the form below."}),Object(a.jsx)(Ot,{onClose:this.handleToggle,myAd:n,isEdit:t})]})]})]})}}]),n}(s.a.Component),St=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).changeEdit=function(){e.setState({isEdit:!0})},e.renderMyAdsLists=function(t){return t.map((function(t,n){var r=t.images.split(",");return Object(a.jsxs)("div",{className:1===t.approved?"my-ad":"my-ad-unapproved",children:[Object(a.jsx)("div",{className:"my-ad-title",children:t.title}),Object(a.jsx)("div",{className:"my-ad-images",children:r.map((function(e,t){return Object(a.jsx)("div",{children:e?Object(a.jsx)("div",{className:"my-ad-image",children:Object(a.jsx)("img",{src:"http://localhost:5000/static/".concat(e),alt:""})}):null},t)}))}),Object(a.jsxs)("div",{className:"my-ad-info",children:[Object(a.jsxs)("p",{children:["Price: ",t.price,"$"]}),Object(a.jsxs)("p",{children:["Address: ",t.address]}),Object(a.jsxs)("p",{children:["People allowed: ",t.people_allowed]}),Object(a.jsxs)("p",{children:["Size: ",t.size,"m\xb2"]}),Object(a.jsx)("p",{children:t.pets&&t.balcony?"Pets allowed and balcony included":t.pets?"Pets allowed":t.balcony?"Balcony included":""})]}),Object(a.jsx)("div",{className:"my-ad-desc",children:t.description}),Object(a.jsx)("div",{className:"edit-myads",children:0===t.approved?"":Object(a.jsx)(yt,{isEdit:e.state.isEdit,myAd:t})})]},n)}))},e.state={isEdit:!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getMyAd(),this.changeEdit()}},{key:"render",value:function(){var e=[],t=[];this.props.myAds.forEach((function(n){1===n.approved?e.push(n):t.push(n)}));var n=this.renderMyAdsLists(e),r=this.renderMyAdsLists(t);return Object(a.jsxs)("div",{className:"my-adss",children:[Object(a.jsx)(Ye,{title:"My Approved Ads"}),n,Object(a.jsx)(Ye,{title:"Waiting to be published"}),r]})}}]),n}(r.Component),Nt=Object(O.b)((function(e){return{myAds:e.adv.myAds,getMyAdLoading:e.adv.getMyAdLoading}}),(function(e){return{getMyAd:function(){return e(Je())}}}))(St),Et=(n(162),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).onInputChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.onChangeNameSurnameSend=function(t){t.preventDefault();var n=e.state,a=n.newName,r=n.newSurname;e.props.changeNameSurname(a,r)},e.onChangeEmailSend=function(t){t.preventDefault();var n=e.state.newEmail;e.props.changeEmail(n)},e.onChangePasswordSend=function(t){t.preventDefault();var n=e.state.newPassword;e.props.changePassword(n)},e.state={newName:"",newSurname:"",newEmail:"",newPassword:""},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.newName,n=e.newSurname,r=e.newEmail,s=e.newPassword;return Object(a.jsxs)("div",{className:"settings",children:[Object(a.jsxs)("form",{onSubmit:this.onChangeNameSurnameSend,children:[Object(a.jsx)(Ye,{title:"Settings"}),Object(a.jsx)("p",{children:"Please fill in this form to change your account informations."}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Name"})}),Object(a.jsx)(b,{type:"text",placeholder:"name:",name:"newName",value:t,onChange:this.onInputChange}),Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Surname"})}),Object(a.jsx)(b,{type:"text",placeholder:"surname:",name:"newSurname",value:n,onChange:this.onInputChange}),Object(a.jsx)("button",{type:"submit",className:"confirmChangeInfo",children:"Confirm"})]}),Object(a.jsxs)("form",{onSubmit:this.onChangeEmailSend,children:[Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)(b,{type:"text",placeholder:"email:",name:"newEmail",value:r,onChange:this.onInputChange}),Object(a.jsx)("button",{type:"submit",className:"confirmChangeInfo",children:"Confirm"})]}),Object(a.jsxs)("form",{onSubmit:this.onChangePasswordSend,children:[Object(a.jsx)("label",{children:Object(a.jsx)("b",{children:"Password"})}),Object(a.jsx)(b,{type:"password",placeholder:"password:",name:"newPassword",value:s,onChange:this.onInputChange}),Object(a.jsx)("button",{type:"submit",className:"confirmChangeInfo",children:"Confirm"})]})]})}}]),n}(r.Component)),wt=Object(O.b)(null,(function(e){return{changeNameSurname:function(t,n){return e(function(e,t){return function(){var n=Object(v.a)(x.a.mark((function n(a){var r,s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:W}),r=Object(ue.a)(localStorage.getItem("auth-token-ssm")),s=r.user.id,je({method:"PUT",url:"api/user/ChangeNameSurname",data:{newName:e,newSurname:t,user_id:s}}).then((function(n){console.log("changeNameSurname:",n),a(xe(e,t,r.user))})).catch((function(e){console.log(e),a({type:$})}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},changeEmail:function(t){return e(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){var a,r,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:K}),a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),r=Object(ue.a)(localStorage.getItem("auth-token-ssm")),s=r.user.id,a?je({method:"PUT",url:"api/user/changeEmail",data:{newEmail:e,user_id:s}}).then((function(t){console.log("changeEmail:",t),!0===t.data.email_available?n(ve(e)):n(Ae())})).catch((function(e){console.log(e),n(Ae())})):n(Ae());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},changePassword:function(t){return e(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){var a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:X}),a=Object(ue.a)(localStorage.getItem("auth-token-ssm")),r=a.user.id,je({method:"PUT",url:"api/user/ChangePassword",data:{newPassword:e,user_id:r}}).then((function(t){console.log("changePass:",t),n(ye(e))})).catch((function(e){console.log(e),n({type:Q})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Et),Ct=n(59),_t=n(33),kt=(n(163),n(105)),Tt=(n(164),n(67)),Dt=n(58),Mt=(n(165),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(h.a)({},r,n))},a.setNewComment=function(e){"Enter"===e.key&&(a.setState({isFocus:!1}),a.props.updateComment(a.props.comm.id_ratings,a.state.comment))},a.state={comment:"",isFocus:!1,isOwner:!1},a.textInput=s.a.createRef(),a.focusTextInput=a.focusTextInput.bind(Object(Tt.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({comment:this.props.comm.comment}),Object(ue.a)(localStorage.getItem("auth-token-ssm")).user.id===this.props.comm.id_user&&this.setState({isOwner:!0})}},{key:"focusTextInput",value:function(){this.setState({isFocus:!0}),this.textInput.current.focus()}},{key:"render",value:function(){var e=this.props.comm,t=this.state,n=t.comment,r=t.isFocus,s=t.isOwner;return Object(a.jsxs)("div",{className:"user-ad-comment",children:[Object(a.jsxs)("div",{className:"comment-user-rating",children:[Object(a.jsxs)("div",{className:"comment-user",children:[Object(a.jsx)(tt.a,{size:20}),Object(a.jsx)("div",{className:"comment-user-info",children:Object(a.jsxs)("span",{children:[e.name," ",e.surname]})})]}),Object(a.jsxs)("div",{className:"comment-rating",children:[Object(a.jsx)("span",{children:"Rating: "}),e.rating,Object(a.jsx)(Ue.a,{})]})]}),Object(a.jsx)("label",{children:"Comment:"}),Object(a.jsxs)("div",{className:"comment-box",children:[Object(a.jsx)("div",{className:r?"comment-comm-select":"comment-comm",children:Object(a.jsx)("textarea",{value:n,name:"comment",onChange:this.handleChange,ref:this.textInput,readOnly:!r,onKeyPress:this.setNewComment})}),s?Object(a.jsx)("button",{onClick:this.focusTextInput,children:Object(a.jsx)(Dt.b,{})}):null]})]})}}]),n}(r.Component)),It=Object(O.b)(null,(function(e){return{updateComment:function(t,n){return e(function(e,t){return function(){var n=Object(v.a)(x.a.mark((function n(a){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:je({method:"PUT",url:"api/adv/updateComment",data:{id_rating:e,comment:t}}).then((function(e){console.log("updateComment:",e),a({type:"ADV_UPDATE_COMMENT"})})).catch((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))(Mt);function Pt(){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:ht,alt:""})})}var Ut=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{style:{backgroundImage:"url(http://localhost:5000/static/".concat(this.props.image,")"),height:"400px",width:"800px",backgroundPosition:"center"}})}}]),n}(r.Component),Lt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).resetReview=function(){e.setState({comment:"",rating:""})},e.handleChange=function(t){var n=t.target,a=n.value,r=n.name;e.setState(Object(h.a)({},r,a))},e.onReviewSend=function(t){t.preventDefault();var n=e.state,a=n.comment,r=n.rating;e.props.createReview(a,r,e.props.match.params.title,e.resetReview),e.props.getAllComments(e.props.match.params.title)},e.state={images:[],comment:"",rating:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.location),this.props.getAd(this.props.match.params.title),this.props.getAllComments(this.props.match.params.title)}},{key:"render",value:function(){var e=this,t=this.props.adDetailsImages.map((function(t,n){return Object(a.jsx)("div",{className:"each-slide",children:e.props.getAdLoading?Object(a.jsx)(Pt,{}):Object(a.jsx)(Ut,{image:t})},n)})),n=this.props.comments.map((function(t,n){return Object(a.jsx)("div",{className:"comm-container",children:e.props.commentLoading?Object(a.jsx)(Pt,{}):Object(a.jsx)(It,{comm:t})},n)})),r=this.props.adDetails,s=this.state,c=s.comment,i=s.rating;return Object(a.jsxs)("div",{className:"ad-details",children:[Object(a.jsx)("div",{className:"ad-details-title",children:Object(a.jsx)(Ye,{title:r.title})}),Object(a.jsx)("div",{className:"ad-details-images",children:Object(a.jsx)("div",{className:"slide-container",children:Object(a.jsx)(kt.Slide,{children:t})})}),Object(a.jsxs)("div",{className:"ad-details-info",children:[Object(a.jsxs)("p",{children:["- ",Object(a.jsx)("span",{children:"Price:"})," ",r.price,"$"]}),Object(a.jsxs)("p",{children:["- ",Object(a.jsx)("span",{children:"Size:"})," ",r.size,"m\xb2"]}),Object(a.jsxs)("p",{children:["- ",Object(a.jsx)("span",{children:"Address:"})," ",r.address]}),Object(a.jsxs)("p",{children:["- ",Object(a.jsx)("span",{children:"People allowed:"})," ",r.people_allowed]}),Object(a.jsxs)("p",{children:["- ",r.pets&&r.balcony?"Pets allowed and balcony included":r.pets?"Pets allowed":r.balcony?"Balcony included":""]})]}),Object(a.jsxs)("div",{className:"ad-details-desc",children:[Object(a.jsx)("div",{className:"ad-details-desc-title",children:Object(a.jsx)("span",{children:"Description"})}),Object(a.jsx)("div",{className:"ad-details-desc-body",children:Object(a.jsx)("p",{children:r.description})})]}),Object(a.jsx)("div",{className:"review-parent",children:Object(a.jsx)("form",{onSubmit:this.onReviewSend,children:Object(a.jsxs)("div",{className:"ad-details-review",children:[Object(a.jsx)("div",{className:"review-title",children:Object(a.jsx)("span",{children:"Review"})}),Object(a.jsxs)("div",{className:"comment",children:[Object(a.jsx)(st.a,{id:"comment",children:"Comment"}),Object(a.jsx)(ut.a,{name:"comment",value:c,onChange:this.handleChange,"aria-label":"minimum height",rowsMin:5,placeholder:""})]}),Object(a.jsxs)("div",{className:"rating",children:[Object(a.jsx)(st.a,{id:"rating",children:"Rating"}),Object(a.jsx)(it.a,{value:i,name:"rating",onChange:this.handleChange,id:"select",children:[1,2,3,4,5].map((function(e,t){return Object(a.jsx)(ct.a,{name:"num",value:e,children:e},t)}))})]}),Object(a.jsx)("button",{children:"Submit"})]})})}),Object(a.jsx)("div",{className:"comments",children:n})]})}}]),n}(r.Component),Rt=Object(O.b)((function(e){return{adDetails:e.adv.adDetails,comments:e.adv.comments,commentLoading:e.adv.commentLoading,getAdLoading:e.adv.getAdLoading,adDetailsImages:e.adv.adDetailsImages}}),(function(e){return{getAd:function(t){return e(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:le}),je({method:"POST",url:"api/adv/getAd",data:{title:e}}).then((function(e){var t,a;console.log("Ad:",e),n((t=e.data[0],a=e.data[0].images,{type:G,ad:t,images:a}))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},createReview:function(t,n,a,r){return e(function(e,t,n,a){return function(){var r=Object(v.a)(x.a.mark((function r(s){var c,i;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c=Object(ue.a)(localStorage.getItem("auth-token-ssm")),i=c.user.id,je({method:"POST",url:"api/adv/rating",data:{comment:e,rating:t,title:n,user_id:i}}).then((function(n){console.log("rating:",n),s(Ke(e,t)),a()})).catch((function(e){console.log(e)}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,a,r))},getAllComments:function(t){return e(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:se}),je({method:"POST",url:"api/adv/getComments",data:{title:e}}).then((function(e){var t;console.log("comments:",e),n((t=e.data,{type:V,comments:t}))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Lt),zt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).logOut=function(){localStorage.clear(),e.props.logout()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log("isAuth",this.props.isAuthenticated)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"layout",children:[Object(a.jsx)(Ee,{title:"Studentski Smjestaj Mostar",componentToPassDown:Object(a.jsx)(yt,{})}),Object(a.jsxs)("div",{className:"layout-sidebar",children:[Object(a.jsxs)("div",{className:"sidebar-profile",children:[Object(a.jsx)("h2",{children:"WELCOME"}),Object(a.jsxs)("div",{className:"sidebar-name",children:[this.props.name," ",Object(a.jsx)("br",{}),this.props.surname]})]}),Object(a.jsx)("div",{className:"sidebar-links",children:Object(a.jsxs)("div",{className:"sidebar-nav",children:[Object(a.jsx)(f.c,{to:"/private",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Ct.a,{size:18}),Object(a.jsx)("span",{children:"Home"})]})}),Object(a.jsx)(f.c,{to:"/private/profile",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(tt.a,{size:17}),Object(a.jsx)("span",{children:"Profile"})]})}),Object(a.jsx)(f.c,{to:"/private/myAds",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(_t.a,{size:15}),Object(a.jsx)("span",{children:"My ads"})]})}),Object(a.jsx)(f.c,{to:"/private/settings",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(_t.b,{size:15}),Object(a.jsx)("span",{children:"Settings"})]})})]})}),Object(a.jsx)("div",{className:"logout",children:Object(a.jsx)("button",{onClick:this.logOut,children:"log out"})})]}),Object(a.jsx)("div",{className:"layout-content",children:Object(a.jsxs)(m.d,{children:[Object(a.jsx)(m.b,{exact:!0,path:"/private",component:et}),Object(a.jsx)(m.b,{exact:!0,path:"/private/profile",render:function(){return Object(a.jsx)(at,Object(j.a)(Object(j.a)({},e.props),{},{user:e.props.user}))}}),Object(a.jsx)(m.b,{exact:!0,path:"/private/myAds",component:Nt}),Object(a.jsx)(m.b,{exact:!0,path:"/private/settings",component:wt}),Object(a.jsx)(m.b,{exact:!0,path:"/private/details/:title",component:Rt})]})})]})}}]),n}(r.Component),Ht=Object(O.b)(null,(function(e){return{getMe:function(){return e(Ne())}}}))(zt),Gt=(n(166),n(71)),Ft=(n(167),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).onAcceptSend=function(){var t=e.state.approved,n=e.props.adminAd.title;e.props.changeApproved(t,n,e.getAllAdminAds)},e.getAllAdminAds=function(){e.props.getAllAdsAdmin()},e.onDeny=function(){var t=e.props.adminAd.title,n=e.props.images;console.log(n),console.log(t),e.props.deleteAds(n,t,e.getAllAdminAds)},e.state={approved:!0},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.adminAd,n=e.images;return Object(a.jsxs)("div",{className:"admin-ad",children:[Object(a.jsxs)("div",{className:"title-images",children:[Object(a.jsx)("div",{className:"admin-ad-title",children:t.title}),Object(a.jsx)("div",{className:"admin-ad-images",children:n.map((function(e,t){return Object(a.jsx)("div",{className:"admin-ad-image",children:Object(a.jsx)("img",{src:"http://localhost:5000/static/".concat(e),alt:""})},t)}))})]}),Object(a.jsxs)("div",{className:"admin-ad-info",children:[Object(a.jsxs)("p",{children:["Price: ",t.price,"$"]}),Object(a.jsxs)("p",{children:["Address: ",t.address]}),Object(a.jsxs)("p",{children:["People allowed: ",t.people_allowed]}),Object(a.jsxs)("p",{children:["Size: ",t.size,"m\xb2"]}),Object(a.jsx)("p",{children:t.pets&&t.balcony?"Pets allowed and balcony included":t.pets?"Pets allowed":t.balcony?"Balcony included":""})]}),Object(a.jsxs)("div",{className:"desc-button",children:[Object(a.jsx)("div",{className:"admin-ad-desc",children:t.description}),Object(a.jsxs)("div",{className:"accept-button",children:[Object(a.jsx)("button",{onClick:this.onAcceptSend,children:"Accept"}),Object(a.jsx)("button",{onClick:this.onDeny,children:"Deny"})]})]})]},t.title)}}]),n}(r.Component)),Vt=Object(O.b)(null,(function(e){return{changeApproved:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(v.a)(x.a.mark((function a(r){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:je({method:"PUT",url:"api/adv/changeApproved",data:{approved:e,title:t}}).then((function(e){console.log("changeApproved:",e),r({type:"ADV_CHANGE_APPROVED_SUCCES"}),n()})).catch((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},getAllAdsAdmin:function(){return e(qe())},deleteAds:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(v.a)(x.a.mark((function a(r){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:je({method:"DELETE",url:"api/adv/deleteAdv",data:{images:e,title:t}}).then((function(e){console.log("deleteAdv:",e),r({type:"ADV_DELETE_ADS"}),n()})).catch((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))}}}))(Ft),Bt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.adminAds.map((function(e,t){var n=e.images.split(",");return Object(a.jsx)(Vt,{images:n,adminAd:e},t)}));return Object(a.jsx)("div",{className:"admin-ads",children:e})}}]),n}(r.Component),Wt=Object(O.b)((function(e){return{adminAds:e.adv.adminAds}}),null)(Bt),qt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllAdsAdmin()}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(Wt,{})})}}]),n}(r.Component),$t=Object(O.b)(null,(function(e){return{getAllAdsAdmin:function(){return e(qe())}}}))(qt),Kt=(n(168),n(63)),Jt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getAllUsers=function(){e.props.getUsers()},e.getAllAdmins=function(){e.props.getAdmins()},e.onDeleteUser=function(t){e.props.deleteUser(t,e.getAllUsers)},e.onSetAdmin=function(t){e.props.setAdmin(t,e.getAllUsers,e.getAllAdmins)},e.onSetUser=function(t){e.props.setUser(t,e.getAllUsers,e.getAllAdmins)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getAllUsers(),this.getAllAdmins()}},{key:"render",value:function(){var e=this,t=this.props.users.map((function(t){return Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.Name}),Object(a.jsx)("td",{children:t.Surname}),Object(a.jsx)("td",{children:t.Email}),Object(a.jsx)("td",{onClick:function(){return e.onDeleteUser(t.id)},children:Object(a.jsx)(Kt.a,{})}),e.props.superadmin?Object(a.jsx)("td",{onClick:function(){return e.onSetAdmin(t.id)},children:Object(a.jsx)(Kt.b,{})}):null]})},t.id)})),n=this.props.admins.map((function(t){return Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.Name}),Object(a.jsx)("td",{children:t.Surname}),Object(a.jsx)("td",{children:t.Email}),Object(a.jsx)("td",{onClick:function(){return e.onDeleteUser(t.id)},children:Object(a.jsx)(Kt.a,{})}),e.props.superadmin?Object(a.jsx)("td",{onClick:function(){return e.onSetUser(t.id)},children:Object(a.jsx)(Kt.b,{})}):null]})},t.id)}));return Object(a.jsxs)("div",{className:"table",children:[Object(a.jsx)(Ye,{title:"User list"}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Surname"}),Object(a.jsx)("th",{children:"Email"}),Object(a.jsx)("th",{colSpan:"2",children:"Action"})]})}),t]}),this.props.superadmin?Object(a.jsxs)("div",{children:[Object(a.jsx)(Ye,{title:"Admin list"}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Surname"}),Object(a.jsx)("th",{children:"Email"}),Object(a.jsx)("th",{colSpan:"2",children:"Action"})]})}),n]})]}):null]})}}]),n}(r.Component),Zt=Object(O.b)((function(e){return{users:e.auth.users,admins:e.auth.admins,superadmin:e.auth.superadmin}}),(function(e){return{getUsers:function(){return e(function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je({method:"GET",url:"api/user/getUsers"}).then((function(e){var n;console.log("getUsers:",e),t((n=e.data,{type:te,users:n}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},deleteUser:function(t,n){return e(function(e,t){return function(){var n=Object(v.a)(x.a.mark((function n(a){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:je({method:"DELETE",url:"api/user/deleteUser",data:{user_id:e}}).then((function(e){console.log("deleteUser:",e),a({type:"AUTH_DELETE_USER"}),t()})).catch((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},setAdmin:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(v.a)(x.a.mark((function a(r){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:je({method:"PUT",url:"api/user/setAdmin",data:{user_id:e}}).then((function(e){console.log("setAdmin:",e),r({type:"AUTH_SET_ADMIN"}),t(),n()})).catch((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},getAdmins:function(){return e(function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je({method:"GET",url:"api/user/getAdmins"}).then((function(e){var n;console.log("getAdmins:",e),t((n=e.data,{type:re,admins:n}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},setUser:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(v.a)(x.a.mark((function a(r){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:je({method:"PUT",url:"api/user/setUser",data:{user_id:e}}).then((function(e){console.log("setUser:",e),r({type:"AUTH_SET_USER"}),t(),n()})).catch((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))}}}))(Jt),Xt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).logOut=function(){localStorage.clear(),e.props.logout()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"layout",children:[Object(a.jsx)(Ee,{title:"Studentski Smjestaj Mostar",componentToPassDown:Object(a.jsx)(yt,{})}),Object(a.jsxs)("div",{className:"layout-sidebar",children:[Object(a.jsxs)("div",{className:"sidebar-profile",children:[Object(a.jsx)("h2",{children:"WELCOME"}),Object(a.jsxs)("div",{className:"sidebar-name",children:[this.props.name," ",Object(a.jsx)("br",{}),this.props.surname]})]}),Object(a.jsx)("div",{className:"sidebar-links",children:Object(a.jsxs)("div",{className:"sidebar-nav",children:[Object(a.jsx)(f.c,{to:"/private/admin",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Ct.a,{size:18}),Object(a.jsx)("span",{children:"Home"})]})}),Object(a.jsx)(f.c,{to:"/private/admin/profile",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(tt.a,{size:17}),Object(a.jsx)("span",{children:"Profile"})]})}),Object(a.jsx)(f.c,{to:"/private/admin/myAds",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(_t.a,{size:15}),Object(a.jsx)("span",{children:"My ads"})]})}),Object(a.jsx)(f.c,{to:"/private/admin/requests",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Gt.a,{size:15}),Object(a.jsx)("span",{children:"Requests"})]})}),Object(a.jsx)(f.c,{to:"/private/admin/userList",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Dt.a,{size:15}),Object(a.jsx)("span",{children:"User List"})]})}),Object(a.jsx)(f.c,{to:"/private/admin/settings",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(_t.b,{size:15}),Object(a.jsx)("span",{children:"Settings"})]})})]})}),Object(a.jsx)("div",{className:"logout",children:Object(a.jsx)("button",{onClick:this.logOut,children:"log out"})})]}),Object(a.jsx)("div",{className:"layout-content",children:Object(a.jsxs)(m.d,{children:[Object(a.jsx)(m.b,{exact:!0,path:"/private/admin",component:et}),Object(a.jsx)(m.b,{exact:!0,path:"/private/admin/profile",render:function(){return Object(a.jsx)(at,Object(j.a)(Object(j.a)({},e.props),{},{user:e.props.user}))}}),Object(a.jsx)(m.b,{exact:!0,path:"/private/admin/myAds",component:Nt}),Object(a.jsx)(m.b,{exact:!0,path:"/private/admin/settings",component:wt}),Object(a.jsx)(m.b,{exact:!0,path:"/private/admin/requests",component:$t}),Object(a.jsx)(m.b,{exact:!0,path:"/private/admin/userList",component:Zt}),Object(a.jsx)(m.b,{exact:!0,path:"/private/admin/details/:title",component:Rt})]})})]})}}]),n}(r.Component),Yt=Object(O.b)((function(e){return{roles:e.auth.roles}}),(function(e){return{getMe:function(){return e(Ne())}}}))(Xt),Qt=(n(169),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).logOut=function(){localStorage.clear(),e.props.logout()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"layout",children:[Object(a.jsx)(Ee,{title:"Studentski Smjestaj Mostar",componentToPassDown:Object(a.jsx)(yt,{})}),Object(a.jsxs)("div",{className:"layout-sidebar",children:[Object(a.jsxs)("div",{className:"sidebar-profile",children:[Object(a.jsx)("h2",{children:"WELCOME"}),Object(a.jsxs)("div",{className:"sidebar-name",children:[this.props.name," ",Object(a.jsx)("br",{}),this.props.surname]})]}),Object(a.jsx)("div",{className:"sidebar-links",children:Object(a.jsxs)("div",{className:"sidebar-nav",children:[Object(a.jsx)(f.c,{to:"/private/superadmin",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Ct.a,{size:18}),Object(a.jsx)("span",{children:"Home"})]})}),Object(a.jsx)(f.c,{to:"/private/superadmin/profile",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(tt.a,{size:17}),Object(a.jsx)("span",{children:"Profile"})]})}),Object(a.jsx)(f.c,{to:"/private/superadmin/myAds",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(_t.a,{size:15}),Object(a.jsx)("span",{children:"My ads"})]})}),Object(a.jsx)(f.c,{to:"/private/superadmin/requests",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Gt.a,{size:15}),Object(a.jsx)("span",{children:"Requests"})]})}),Object(a.jsx)(f.c,{to:"/private/superadmin/userList",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Dt.a,{size:15}),Object(a.jsx)("span",{children:"User List"})]})}),Object(a.jsx)(f.c,{to:"/private/superadmin/settings",exact:!0,className:"nav-link-item",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(_t.b,{size:15}),Object(a.jsx)("span",{children:"Settings"})]})})]})}),Object(a.jsx)("div",{className:"logout",children:Object(a.jsx)("button",{onClick:this.logOut,children:"log out"})})]}),Object(a.jsx)("div",{className:"layout-content",children:Object(a.jsxs)(m.d,{children:[Object(a.jsx)(m.b,{exact:!0,path:"/private/superadmin",component:et}),Object(a.jsx)(m.b,{exact:!0,path:"/private/superadmin/profile",render:function(){return Object(a.jsx)(at,Object(j.a)(Object(j.a)({},e.props),{},{user:e.props.user}))}}),Object(a.jsx)(m.b,{exact:!0,path:"/private/superadmin/myAds",component:Nt}),Object(a.jsx)(m.b,{exact:!0,path:"/private/superadmin/settings",component:wt}),Object(a.jsx)(m.b,{exact:!0,path:"/private/superadmin/requests",component:$t}),Object(a.jsx)(m.b,{exact:!0,path:"/private/superadmin/userList",component:Zt}),Object(a.jsx)(m.b,{exact:!0,path:"/private/superadmin/details/:title",component:Rt})]})})]})}}]),n}(r.Component)),en=Object(O.b)((function(e){return{roles:e.auth.roles}}),(function(e){return{getMe:function(){return e(Ne())}}}))(Qt),tn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.authCheckToken(),localStorage.getItem("auth-token-ssm")&&this.props.getMe()}},{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,n=e.admin,r=e.adminLoading,s=e.superadmin,c=this.props.checkTokenLoading,i=this.props,o=i.userName,l=i.userSurname,u=i.user;return Object(a.jsx)("div",{children:c||r?Object(a.jsx)(Pt,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Pe,{}),n?Object(a.jsx)(p,{isAuthenticated:t,Component:Yt,name:o,surname:l,user:u,logout:this.props.logOut}):s?Object(a.jsx)(p,{isAuthenticated:t,Component:en,name:o,surname:l,user:u,logout:this.props.logOut}):Object(a.jsx)(p,{isAuthenticated:t,Component:Ht,name:o,surname:l,user:u,logout:this.props.logOut})]})})}}]),n}(s.a.Component),nn=Object(O.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,checkTokenLoading:e.auth.checkTokenLoading,userName:e.auth.userName,userSurname:e.auth.userSurname,isAdmin:e.auth.isAdmin,user:e.auth.user,admin:e.auth.admin,superadmin:e.auth.superadmin,adminLoading:e.auth.adminLoading}}),(function(e){return{authCheckToken:function(){return e(fe())},logOut:function(){return e(ge())},getMe:function(){return e(Ne())}}}))(tn),an=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,221)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},rn=n(52),sn={userName:"",userSurname:"",userEmail:"",userPassword:"",authLoading:!1,authSuccess:!1,authError:!1,isAuthenticated:JSON.parse(localStorage.getItem("isAuth"))||!1,isEmailValid:!1,isEmailError:!1,registerErrorMsg:"",loginErrorMsg:"",checkTokenLoading:!1,roles:[],user:{},users:[],admins:[],admin:!1,superadmin:!1,adminLoading:!1},cn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{registerErrorMsg:"",isEmailError:!1})},on=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{userName:t.userName,userSurname:t.userSurname,userEmail:t.userEmail,userPassword:t.userPassword,isEmailValid:t.email_available,isEmailError:!t.email_available,registerErrorMsg:""})},ln=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{registerErrorMsg:t.msg,isEmailError:!0})},un=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{authLoading:!0,authSuccess:!1,authError:!1,loginErrorMsg:""})},dn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{authLoading:!1,authSuccess:!0,isAuthenticated:!0,loginErrorMsg:"",userName:t.name,userSurname:t.surname,user:t.user,admin:t.isAdmin,superadmin:t.isSuperAdmin})},jn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{authLoading:!1,authError:!0,authSuccess:!1,isAuthenticated:!1,loginErrorMsg:t.msg})},mn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{authLoading:!1,authSuccess:!1,authError:!1,isEmailValid:!1,isEmailError:!1,loginErrorMsg:""})},pn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isEmailError:!1,registerErrorMsg:""})},hn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,checkTokenLoading:!0})},bn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!0,checkTokenLoading:!1,userName:t.name,userSurname:t.surname,user:t.user})},On=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,checkTokenLoading:!1})},fn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,authSuccess:!1})},gn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{roles:[t.roles]})},xn=function(e,t){return Object(j.a)({},e)},vn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{userName:t.newName,userSurname:t.newSurname,user:t.user})},An=function(e,t){return Object(j.a)({},e)},yn=function(e,t){return Object(j.a)({},e)},Sn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{userEmail:t.newEmail})},Nn=function(e,t){return Object(j.a)({},e)},En=function(e,t){return Object(j.a)({},e)},wn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{userPassword:t.newPassword})},Cn=function(e,t){return Object(j.a)({},e)},_n=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{users:t.users})},kn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{admins:t.admins})},Tn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{adminLoading:!0})},Dn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{adminLoading:!1,admin:t.isAdmin,superadmin:t.isSuperAdmin})},Mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return cn(e);case y:return on(e,t);case S:return ln(e,t);case N:return un(e);case E:return dn(e,t);case w:return jn(e,t);case C:return mn(e);case _:return pn(e);case k:return hn(e);case T:return bn(e,t);case D:return On(e);case L:return fn(e);case R:return gn(e,t);case W:return xn(e);case q:return vn(e,t);case $:return An(e);case K:return yn(e);case J:return Sn(e,t);case Z:return Nn(e);case X:return En(e);case Y:return wn(e,t);case Q:return Cn(e);case te:return _n(e,t);case re:return kn(e,t);case ae:return Tn(e);case ne:return Dn(e,t);default:return e}},In={title:"",price:"",address:"",peopleAllowed:"",size:"",pets:!1,balcony:!1,desc:"",images:[],createAdErrorMsg:"",isTitleAvailable:!1,ads:[],sortedAds:[],formData:"",adDetails:{},comment:"",rating:"",comments:[],myAds:[],adminAds:[],commentLoading:!1,getMyAdLoading:!1,uploadLoading:!1,getAdLoading:!1,adDetailsImages:[]},Pn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{createAdErrorMsg:"",isTitleAvailable:!1})},Un=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{title:t.formData.title,price:t.formData.price,address:t.formData.address,peopleAllowed:t.formData.peopleAllowed,size:t.formData.size,pets:t.formData.pets,balcony:t.formData.balcony,desc:t.formData.desc,images:t.formData.image,isTitleAvailable:t.title_available,createAdErrorMsg:"",formData:t.formData})},Ln=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{createAdErrorMsg:t.msg,isTitleAvailable:!1})},Rn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{title:"",price:"",address:"",peopleAllowed:"",size:"",pets:!1,balcony:!1,desc:"",createAdErrorMsg:"",isTitleAvailable:!1})},zn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{ads:t.ads,sortedAds:t.ads})},Hn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{sortedAds:t.sortedAds})},Gn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{getAdLoading:!0})},Fn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{getAdLoading:!1,adDetails:t.ad,adDetailsImages:t.images.split(",")})},Vn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{comment:t.comment,rating:t.rating.rating})},Bn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{commentLoading:!0})},Wn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{comments:t.comments,commentLoading:!1})},qn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{getMyAdLoading:!0})},$n=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{myAds:t.myAds,getMyAdLoading:!1})},Kn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{adminAds:t.adminAds})},Jn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{uploadLoading:!0})},Zn=function(e,t){return Object(j.a)(Object(j.a)({},e),{},{uploadLoading:!1})},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Pn(e);case I:return Un(e,t);case P:return Ln(e,t);case U:return Rn(e);case z:return zn(e,t);case H:return Hn(e,t);case G:return Fn(e,t);case F:return Vn(e,t);case V:return Wn(e,t);case B:return $n(e,t);case ee:return Kn(e,t);case se:return Bn(e);case ce:return qn(e);case ie:return Zn(e);case oe:return Jn(e);case le:return Gn(e);default:return e}},Yn=n(106),Qn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||rn.d,ea=Object(rn.c)({auth:Mn,adv:Xn}),ta=Object(rn.e)(ea,Qn(Object(rn.a)(Yn.a)));i.a.render(Object(a.jsx)(O.a,{store:ta,children:Object(a.jsx)(f.a,{children:Object(a.jsx)(nn,{})})}),document.getElementById("root")),an()},75:function(e,t,n){},97:function(e,t,n){}},[[170,1,2]]]);
//# sourceMappingURL=main.643218c7.chunk.js.map